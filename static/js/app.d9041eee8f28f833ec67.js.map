{"version":3,"sources":["webpack:///static/js/app.d9041eee8f28f833ec67.js","webpack:///./src/components/Scene.vue","webpack:///./src/router/index.js","webpack:///./src/App.vue?fc6a","webpack:///./src/lib/ConvexGeometry.js","webpack:///./src/lib/QuickHull.js","webpack:///./src/lib/TrackballControls.js","webpack:///./src/main.js","webpack:///App.vue","webpack:///Scene.vue","webpack:///./~/moment/locale ^\\.\\/.*$","webpack:///./src/components/Scene.vue?0698","webpack:///./src/App.vue?c3e7"],"names":["webpackJsonp","149","module","exports","__webpack_require__","injectStyle","ssrContext","Component","151","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1_vue_router__","__WEBPACK_IMPORTED_MODULE_2__components_Scene__","__WEBPACK_IMPORTED_MODULE_2__components_Scene___default","n","use","routes","path","name","component","a","152","156","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_create__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_create___default","__WEBPACK_IMPORTED_MODULE_1__QuickHull__","THREE","window","QuickHull","ConvexGeometry","points","Geometry","call","this","type","fromBufferGeometry","ConvexBufferGeometry","mergeVertices","prototype","constructor","BufferGeometry","vertices","normals","undefined","console","error","quickHull","setFromPoints","faces","i","length","face","edge","point","head","push","x","y","z","normal","next","addAttribute","Float32BufferAttribute","157","Face","Vector3","midpoint","area","constant","outside","mark","Visible","HalfEdge","vertex","prev","twin","VertexNode","VertexList","tail","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_number_epsilon__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_number_epsilon___default","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default","tolerance","newFaces","assigned","unassigned","Array","isArray","makeEmpty","l","compute","setFromObject","object","updateMatrixWorld","traverse","node","geometry","isGeometry","clone","applyMatrix4","matrixWorld","isBufferGeometry","attribute","attributes","position","count","fromBufferAttribute","addVertexToFace","append","insertBefore","removeVertexFromFace","remove","removeAllVerticesFromFace","start","end","removeSubList","deleteFaceVertices","absorbingFace","faceVertices","appendChain","nextVertex","distance","distanceToPoint","resolveUnassignedPoints","isEmpty","first","maxDistance","maxFace","computeExtremes","j","min","max","minVertices","maxVertices","copy","getComponent","setComponent","Math","abs","computeInitialHull","line3","plane","closestPoint","Line3","Plane","v0","v1","v2","v3","extremes","index","set","closestPointToPoint","distanceToSquared","setFromCoplanarPoints","create","getEdge","setTwin","reindexFaces","activeFaces","nextVertexToAdd","eyeVertex","eyeFace","computeHorizon","eyePoint","crossEdge","horizon","twinEdge","oppositeFace","addAdjoiningFace","horizonEdge","addNewFaces","firstSideEdge","previousSideEdge","sideEdge","addVertexToHull","clear","cleanup","b","c","e0","e1","e2","triangle","Triangle","dot","distanceTo","lengthSquared","last","target","insertAfter","158","TrackballControls","domElement","keydown","event","_this","enabled","removeEventListener","_prevState","_state","STATE","NONE","keyCode","keys","ROTATE","noRotate","ZOOM","noZoom","PAN","noPan","keyup","addEventListener","mousedown","preventDefault","stopPropagation","button","_panStart","getMouseOnScreen","pageX","pageY","_panEnd","_zoomStart","_zoomEnd","_moveCurr","getMouseOnCircle","_movePrev","document","mousemove","mouseup","dispatchEvent","startEvent","endEvent","mousewheel","deltaMode","deltaY","touchstart","touches","TOUCH_ROTATE","TOUCH_ZOOM_PAN","dx","dy","_touchZoomDistanceEnd","_touchZoomDistanceStart","sqrt","touchmove","touchend","contextmenu","screen","left","top","width","height","rotateSpeed","zoomSpeed","panSpeed","staticMoving","dynamicDampingFactor","minDistance","Infinity","lastPosition","_eye","Vector2","_lastAxis","_lastAngle","target0","position0","up0","up","changeEvent","handleResize","innerWidth","innerHeight","box","getBoundingClientRect","d","ownerDocument","documentElement","pageXOffset","clientLeft","pageYOffset","clientTop","handleEvent","vector","rotateCamera","angle","axis","quaternion","Quaternion","eyeDirection","objectUpDirection","objectSidewaysDirection","moveDirection","sub","normalize","crossVectors","setLength","add","setFromAxisAngle","applyQuaternion","zoomCamera","factor","multiplyScalar","panCamera","mouseChange","objectUp","pan","lengthSq","cross","subVectors","checkDistances","addVectors","update","lookAt","reset","dispose","EventDispatcher","159","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_1__App__","__WEBPACK_IMPORTED_MODULE_1__App___default","__WEBPACK_IMPORTED_MODULE_2__router__","config","productionTip","el","router","template","components","App","160","__WEBPACK_IMPORTED_MODULE_0__components_Scene__","__WEBPACK_IMPORTED_MODULE_0__components_Scene___default","Scene","161","animate","requestAnimationFrame","time","currentSunPosition","__WEBPACK_IMPORTED_MODULE_6_suncalc___default","getPosition","Date","LAT","LNG","currentSunPositionXYZ","getXYZbyRotation","RADIUS","azimuth","PI","altitude","sphere","light","lightHelper","controls","render","renderer","scene","camera","addText","text","xyz","rotation","font","color","arguments","textGeo","__WEBPACK_IMPORTED_MODULE_1_three__","size","curveSegments","style","colorThree","textMaterial","textMesh","radius","theta","phi","sin","cos","getSunPath","date","sunTimes","getTimes","sunrise","__WEBPACK_IMPORTED_MODULE_5_moment___default","valueOf","sunset","lineMaterial","lineGeometry","sunPos","deg2rad","deg","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray___default","__WEBPACK_IMPORTED_MODULE_2__lib_TrackballControls__","__WEBPACK_IMPORTED_MODULE_4_coordinate_systems__","__WEBPACK_IMPORTED_MODULE_5_moment__","__WEBPACK_IMPORTED_MODULE_6_suncalc__","material","castShadow","circleGeometry","circleMaterial","transparent","opacity","side","circle","receiveShadow","targetObject","shadowMapWidth","shadowMapHeight","shadowCameraLeft","shadowCameraBottom","shadowCameraRight","shadowCameraTop","shadow","sunMaterial","concat","sunMinMax","sunGeo","u","v","times","t","pos","sunMesh","sphereGeometry","sphereMaterial","now","alpha","antialias","shadowMap","soft","setSize","axisHelper","load","offsetXYZ","offsetNSEW","data","mounted","$refs","querySelector","appendChild","199","200","201","webpackContext","req","webpackContextResolve","id","map","Error","./af","./af.js","./ar","./ar-dz","./ar-dz.js","./ar-kw","./ar-kw.js","./ar-ly","./ar-ly.js","./ar-ma","./ar-ma.js","./ar-sa","./ar-sa.js","./ar-tn","./ar-tn.js","./ar.js","./az","./az.js","./be","./be.js","./bg","./bg.js","./bn","./bn.js","./bo","./bo.js","./br","./br.js","./bs","./bs.js","./ca","./ca.js","./cs","./cs.js","./cv","./cv.js","./cy","./cy.js","./da","./da.js","./de","./de-at","./de-at.js","./de-ch","./de-ch.js","./de.js","./dv","./dv.js","./el","./el.js","./en-au","./en-au.js","./en-ca","./en-ca.js","./en-gb","./en-gb.js","./en-ie","./en-ie.js","./en-nz","./en-nz.js","./eo","./eo.js","./es","./es-do","./es-do.js","./es.js","./et","./et.js","./eu","./eu.js","./fa","./fa.js","./fi","./fi.js","./fo","./fo.js","./fr","./fr-ca","./fr-ca.js","./fr-ch","./fr-ch.js","./fr.js","./fy","./fy.js","./gd","./gd.js","./gl","./gl.js","./gom-latn","./gom-latn.js","./he","./he.js","./hi","./hi.js","./hr","./hr.js","./hu","./hu.js","./hy-am","./hy-am.js","./id","./id.js","./is","./is.js","./it","./it.js","./ja","./ja.js","./jv","./jv.js","./ka","./ka.js","./kk","./kk.js","./km","./km.js","./kn","./kn.js","./ko","./ko.js","./ky","./ky.js","./lb","./lb.js","./lo","./lo.js","./lt","./lt.js","./lv","./lv.js","./me","./me.js","./mi","./mi.js","./mk","./mk.js","./ml","./ml.js","./mr","./mr.js","./ms","./ms-my","./ms-my.js","./ms.js","./my","./my.js","./nb","./nb.js","./ne","./ne.js","./nl","./nl-be","./nl-be.js","./nl.js","./nn","./nn.js","./pa-in","./pa-in.js","./pl","./pl.js","./pt","./pt-br","./pt-br.js","./pt.js","./ro","./ro.js","./ru","./ru.js","./sd","./sd.js","./se","./se.js","./si","./si.js","./sk","./sk.js","./sl","./sl.js","./sq","./sq.js","./sr","./sr-cyrl","./sr-cyrl.js","./sr.js","./ss","./ss.js","./sv","./sv.js","./sw","./sw.js","./ta","./ta.js","./te","./te.js","./tet","./tet.js","./th","./th.js","./tl-ph","./tl-ph.js","./tlh","./tlh.js","./tr","./tr.js","./tzl","./tzl.js","./tzm","./tzm-latn","./tzm-latn.js","./tzm.js","./uk","./uk.js","./ur","./ur.js","./uz","./uz-latn","./uz-latn.js","./uz.js","./vi","./vi.js","./x-pseudo","./x-pseudo.js","./yo","./yo.js","./zh-cn","./zh-cn.js","./zh-hk","./zh-hk.js","./zh-tw","./zh-tw.js","resolve","203","_vm","_h","$createElement","_c","_self","ref","staticClass","_v","staticRenderFns","204","attrs"],"mappings":"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CAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,UAAA,GACAC,aAAA,GACAC,UAAA,GACAC,aAAA,GACAC,UAAA,GACAC,aAAA,GACAC,UAAA,GACAC,aAAA,GACAC,UAAA,GACAC,aAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,aAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,aAAA,GACAC,UAAA,GACAC,aAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,aAAA,GACAC,gBAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,UAAA,GACAC,aAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,UAAA,IACAC,aAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,YAAA,IACAC,eAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,QAAA,IACAC,WAAA,IACAC,OAAA,IACAC,UAAA,IACAC,UAAA,IACAC,aAAA,IACAC,QAAA,IACAC,WAAA,IACAC,OAAA,IACAC,UAAA,IACAC,QAAA,IACAC,WAAA,IACAC,QAAA,IACAC,aAAA,IACAC,gBAAA,IACAC,WAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,YAAA,IACAC,eAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,gBAAA,IACAC,OAAA,IACAC,UAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IAWA3O,GAAAjP,KAAA,WACA,MAAAkH,QAAAlH,KAAAqP,IAEAJ,EAAA4O,QAAA1O,EACA9b,EAAAC,QAAA2b,EACAA,EAAAG,GAAA,KVy4DM0O,IACA,SAAUzqB,EAAQC,GWhoExBD,EAAAC,SAAgBiW,OAAA,WAAmB,GAAAwU,GAAA3oB,KAAa4oB,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,CAC1E,OAAAE,GAAA,OACAE,IAAA,QACAC,YAAA,UACGH,EAAA,KAAAH,EAAAO,GAAA,qBACFC,qBXsoEKC,IACA,SAAUnrB,EAAQC,GY5oExBD,EAAAC,SAAgBiW,OAAA,WAAmB,GAAAwU,GAAA3oB,KAAa4oB,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,CAC1E,OAAAE,GAAA,OACAO,OACArP,GAAA,SAEG8O,EAAA,cACFK,uBZkpEE","file":"static/js/app.d9041eee8f28f833ec67.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 149:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(199)\n}\nvar Component = __webpack_require__(150)(\n  /* script */\n  __webpack_require__(161),\n  /* template */\n  __webpack_require__(203),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 151:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue_router__ = __webpack_require__(205);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_Scene__ = __webpack_require__(149);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_Scene___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__components_Scene__);\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].use(__WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (new __WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]({\n  routes: [{\n    path: '/',\n    name: 'Scene',\n    component: __WEBPACK_IMPORTED_MODULE_2__components_Scene___default.a\n  }]\n}));\n\n/***/ }),\n\n/***/ 152:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(200)\n}\nvar Component = __webpack_require__(150)(\n  /* script */\n  __webpack_require__(160),\n  /* template */\n  __webpack_require__(204),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 156:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_create__ = __webpack_require__(21);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_create__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__QuickHull__ = __webpack_require__(157);\n\n\nvar THREE = window.THREE || __webpack_require__(10);\n\n\nTHREE.QuickHull = __WEBPACK_IMPORTED_MODULE_1__QuickHull__[\"a\" /* default */];\n\nvar ConvexGeometry = function ConvexGeometry(points) {\n\n  THREE.Geometry.call(this);\n\n  this.type = 'ConvexGeometry';\n\n  this.fromBufferGeometry(new ConvexBufferGeometry(points));\n  this.mergeVertices();\n};\n\nConvexGeometry.prototype = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_create___default()(THREE.Geometry.prototype);\nConvexGeometry.prototype.constructor = ConvexGeometry;\n\nvar ConvexBufferGeometry = function ConvexBufferGeometry(points) {\n\n  THREE.BufferGeometry.call(this);\n\n  this.type = 'ConvexBufferGeometry';\n\n  var vertices = [];\n  var normals = [];\n\n  if (THREE.QuickHull === undefined) {\n\n    console.error('THREE.ConvexBufferGeometry: ConvexBufferGeometry relies on THREE.QuickHull');\n  }\n\n  var quickHull = new THREE.QuickHull().setFromPoints(points);\n\n  var faces = quickHull.faces;\n\n  for (var i = 0; i < faces.length; i++) {\n\n    var face = faces[i];\n    var edge = face.edge;\n\n    do {\n\n      var point = edge.head().point;\n\n      vertices.push(point.x, point.y, point.z);\n      normals.push(face.normal.x, face.normal.y, face.normal.z);\n\n      edge = edge.next;\n    } while (edge !== face.edge);\n  }\n\n  this.addAttribute('position', new THREE.Float32BufferAttribute(vertices, 3));\n  this.addAttribute('normal', new THREE.Float32BufferAttribute(normals, 3));\n};\n\nConvexBufferGeometry.prototype = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_create___default()(THREE.BufferGeometry.prototype);\nConvexBufferGeometry.prototype.constructor = ConvexBufferGeometry;\n\n/* unused harmony default export */ var _unused_webpack_default_export = (ConvexGeometry);\n\n/***/ }),\n\n/***/ 157:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_number_epsilon__ = __webpack_require__(163);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_number_epsilon___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_number_epsilon__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign__ = __webpack_require__(164);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign__);\n\n\n\n\nvar THREE = window.THREE || __webpack_require__(10);\n\nvar Visible = 0;\nvar Deleted = 1;\n\nvar QuickHull = function QuickHull() {\n\n  this.tolerance = -1;\n\n  this.faces = [];\n  this.newFaces = [];\n  this.assigned = new VertexList();\n  this.unassigned = new VertexList();\n\n  this.vertices = [];\n};\n\n__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default()(QuickHull.prototype, {\n\n  setFromPoints: function setFromPoints(points) {\n\n    if (Array.isArray(points) !== true) {\n\n      console.error('THREE.QuickHull: Points parameter is not an array.');\n    }\n\n    if (points.length < 4) {\n\n      console.error('THREE.QuickHull: The algorithm needs at least four points.');\n    }\n\n    this.makeEmpty();\n\n    for (var i = 0, l = points.length; i < l; i++) {\n\n      this.vertices.push(new VertexNode(points[i]));\n    }\n\n    this.compute();\n\n    return this;\n  },\n\n  setFromObject: function setFromObject(object) {\n\n    var points = [];\n\n    object.updateMatrixWorld(true);\n\n    object.traverse(function (node) {\n\n      var i, l, point;\n\n      var geometry = node.geometry;\n\n      if (geometry !== undefined) {\n\n        if (geometry.isGeometry) {\n\n          var vertices = geometry.vertices;\n\n          for (i = 0, l = vertices.length; i < l; i++) {\n\n            point = vertices[i].clone();\n            point.applyMatrix4(node.matrixWorld);\n\n            points.push(point);\n          }\n        } else if (geometry.isBufferGeometry) {\n\n          var attribute = geometry.attributes.position;\n\n          if (attribute !== undefined) {\n\n            for (i = 0, l = attribute.count; i < l; i++) {\n\n              point = new THREE.Vector3();\n\n              point.fromBufferAttribute(attribute, i).applyMatrix4(node.matrixWorld);\n\n              points.push(point);\n            }\n          }\n        }\n      }\n    });\n\n    return this.setFromPoints(points);\n  },\n\n  makeEmpty: function makeEmpty() {\n\n    this.faces = [];\n    this.vertices = [];\n\n    return this;\n  },\n\n  addVertexToFace: function addVertexToFace(vertex, face) {\n\n    vertex.face = face;\n\n    if (face.outside === null) {\n\n      this.assigned.append(vertex);\n    } else {\n\n      this.assigned.insertBefore(face.outside, vertex);\n    }\n\n    face.outside = vertex;\n\n    return this;\n  },\n\n  removeVertexFromFace: function removeVertexFromFace(vertex, face) {\n\n    if (vertex === face.outside) {\n\n      if (vertex.next !== null && vertex.next.face === face) {\n\n        face.outside = vertex.next;\n      } else {\n\n        face.outside = null;\n      }\n    }\n\n    this.assigned.remove(vertex);\n\n    return this;\n  },\n\n  removeAllVerticesFromFace: function removeAllVerticesFromFace(face) {\n\n    if (face.outside !== null) {\n\n      var start = face.outside;\n      var end = face.outside;\n\n      while (end.next !== null && end.next.face === face) {\n\n        end = end.next;\n      }\n\n      this.assigned.removeSubList(start, end);\n\n      start.prev = end.next = null;\n      face.outside = null;\n\n      return start;\n    }\n  },\n\n  deleteFaceVertices: function deleteFaceVertices(face, absorbingFace) {\n\n    var faceVertices = this.removeAllVerticesFromFace(face);\n\n    if (faceVertices !== undefined) {\n\n      if (absorbingFace === undefined) {\n\n        this.unassigned.appendChain(faceVertices);\n      } else {\n\n        var vertex = faceVertices;\n\n        do {\n\n          var nextVertex = vertex.next;\n\n          var distance = absorbingFace.distanceToPoint(vertex.point);\n\n          if (distance > this.tolerance) {\n\n            this.addVertexToFace(vertex, absorbingFace);\n          } else {\n\n            this.unassigned.append(vertex);\n          }\n\n          vertex = nextVertex;\n        } while (vertex !== null);\n      }\n    }\n\n    return this;\n  },\n\n  resolveUnassignedPoints: function resolveUnassignedPoints(newFaces) {\n\n    if (this.unassigned.isEmpty() === false) {\n\n      var vertex = this.unassigned.first();\n\n      do {\n\n        var nextVertex = vertex.next;\n\n        var maxDistance = this.tolerance;\n\n        var maxFace = null;\n\n        for (var i = 0; i < newFaces.length; i++) {\n\n          var face = newFaces[i];\n\n          if (face.mark === Visible) {\n\n            var distance = face.distanceToPoint(vertex.point);\n\n            if (distance > maxDistance) {\n\n              maxDistance = distance;\n              maxFace = face;\n            }\n\n            if (maxDistance > 1000 * this.tolerance) break;\n          }\n        }\n\n        if (maxFace !== null) {\n\n          this.addVertexToFace(vertex, maxFace);\n        }\n\n        vertex = nextVertex;\n      } while (vertex !== null);\n    }\n\n    return this;\n  },\n\n  computeExtremes: function computeExtremes() {\n\n    var min = new THREE.Vector3();\n    var max = new THREE.Vector3();\n\n    var minVertices = [];\n    var maxVertices = [];\n\n    var i, l, j;\n\n    for (i = 0; i < 3; i++) {\n\n      minVertices[i] = maxVertices[i] = this.vertices[0];\n    }\n\n    min.copy(this.vertices[0].point);\n    max.copy(this.vertices[0].point);\n\n    for (i = 0, l = this.vertices.length; i < l; i++) {\n\n      var vertex = this.vertices[i];\n      var point = vertex.point;\n\n      for (j = 0; j < 3; j++) {\n\n        if (point.getComponent(j) < min.getComponent(j)) {\n\n          min.setComponent(j, point.getComponent(j));\n          minVertices[j] = vertex;\n        }\n      }\n\n      for (j = 0; j < 3; j++) {\n\n        if (point.getComponent(j) > max.getComponent(j)) {\n\n          max.setComponent(j, point.getComponent(j));\n          maxVertices[j] = vertex;\n        }\n      }\n    }\n\n    this.tolerance = 3 * __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_number_epsilon___default.a * (Math.max(Math.abs(min.x), Math.abs(max.x)) + Math.max(Math.abs(min.y), Math.abs(max.y)) + Math.max(Math.abs(min.z), Math.abs(max.z)));\n\n    return { min: minVertices, max: maxVertices };\n  },\n\n  computeInitialHull: function () {\n\n    var line3, plane, closestPoint;\n\n    return function computeInitialHull() {\n\n      if (line3 === undefined) {\n\n        line3 = new THREE.Line3();\n        plane = new THREE.Plane();\n        closestPoint = new THREE.Vector3();\n      }\n\n      var vertex,\n          vertices = this.vertices;\n      var extremes = this.computeExtremes();\n      var min = extremes.min;\n      var max = extremes.max;\n\n      var v0, v1, v2, v3;\n      var i, l, j;\n\n      var distance,\n          maxDistance = 0;\n      var index = 0;\n\n      for (i = 0; i < 3; i++) {\n\n        distance = max[i].point.getComponent(i) - min[i].point.getComponent(i);\n\n        if (distance > maxDistance) {\n\n          maxDistance = distance;\n          index = i;\n        }\n      }\n\n      v0 = min[index];\n      v1 = max[index];\n\n      maxDistance = 0;\n      line3.set(v0.point, v1.point);\n\n      for (i = 0, l = this.vertices.length; i < l; i++) {\n\n        vertex = vertices[i];\n\n        if (vertex !== v0 && vertex !== v1) {\n\n          line3.closestPointToPoint(vertex.point, true, closestPoint);\n\n          distance = closestPoint.distanceToSquared(vertex.point);\n\n          if (distance > maxDistance) {\n\n            maxDistance = distance;\n            v2 = vertex;\n          }\n        }\n      }\n\n      maxDistance = 0;\n      plane.setFromCoplanarPoints(v0.point, v1.point, v2.point);\n\n      for (i = 0, l = this.vertices.length; i < l; i++) {\n\n        vertex = vertices[i];\n\n        if (vertex !== v0 && vertex !== v1 && vertex !== v2) {\n\n          distance = Math.abs(plane.distanceToPoint(vertex.point));\n\n          if (distance > maxDistance) {\n\n            maxDistance = distance;\n            v3 = vertex;\n          }\n        }\n      }\n\n      var faces = [];\n\n      if (plane.distanceToPoint(v3.point) < 0) {\n\n        faces.push(Face.create(v0, v1, v2), Face.create(v3, v1, v0), Face.create(v3, v2, v1), Face.create(v3, v0, v2));\n\n        for (i = 0; i < 3; i++) {\n\n          j = (i + 1) % 3;\n\n          faces[i + 1].getEdge(2).setTwin(faces[0].getEdge(j));\n\n          faces[i + 1].getEdge(1).setTwin(faces[j + 1].getEdge(0));\n        }\n      } else {\n\n        faces.push(Face.create(v0, v2, v1), Face.create(v3, v0, v1), Face.create(v3, v1, v2), Face.create(v3, v2, v0));\n\n        for (i = 0; i < 3; i++) {\n\n          j = (i + 1) % 3;\n\n          faces[i + 1].getEdge(2).setTwin(faces[0].getEdge((3 - i) % 3));\n\n          faces[i + 1].getEdge(0).setTwin(faces[j + 1].getEdge(1));\n        }\n      }\n\n      for (i = 0; i < 4; i++) {\n\n        this.faces.push(faces[i]);\n      }\n\n      for (i = 0, l = vertices.length; i < l; i++) {\n\n        vertex = vertices[i];\n\n        if (vertex !== v0 && vertex !== v1 && vertex !== v2 && vertex !== v3) {\n\n          maxDistance = this.tolerance;\n          var maxFace = null;\n\n          for (j = 0; j < 4; j++) {\n\n            distance = this.faces[j].distanceToPoint(vertex.point);\n\n            if (distance > maxDistance) {\n\n              maxDistance = distance;\n              maxFace = this.faces[j];\n            }\n          }\n\n          if (maxFace !== null) {\n\n            this.addVertexToFace(vertex, maxFace);\n          }\n        }\n      }\n\n      return this;\n    };\n  }(),\n\n  reindexFaces: function reindexFaces() {\n\n    var activeFaces = [];\n\n    for (var i = 0; i < this.faces.length; i++) {\n\n      var face = this.faces[i];\n\n      if (face.mark === Visible) {\n\n        activeFaces.push(face);\n      }\n    }\n\n    this.faces = activeFaces;\n\n    return this;\n  },\n\n  nextVertexToAdd: function nextVertexToAdd() {\n\n    if (this.assigned.isEmpty() === false) {\n\n      var eyeVertex,\n          maxDistance = 0;\n\n      var eyeFace = this.assigned.first().face;\n      var vertex = eyeFace.outside;\n\n      do {\n\n        var distance = eyeFace.distanceToPoint(vertex.point);\n\n        if (distance > maxDistance) {\n\n          maxDistance = distance;\n          eyeVertex = vertex;\n        }\n\n        vertex = vertex.next;\n      } while (vertex !== null && vertex.face === eyeFace);\n\n      return eyeVertex;\n    }\n  },\n\n  computeHorizon: function computeHorizon(eyePoint, crossEdge, face, horizon) {\n\n    this.deleteFaceVertices(face);\n\n    face.mark = Deleted;\n\n    var edge;\n\n    if (crossEdge === null) {\n\n      edge = crossEdge = face.getEdge(0);\n    } else {\n\n      edge = crossEdge.next;\n    }\n\n    do {\n\n      var twinEdge = edge.twin;\n      var oppositeFace = twinEdge.face;\n\n      if (oppositeFace.mark === Visible) {\n\n        if (oppositeFace.distanceToPoint(eyePoint) > this.tolerance) {\n\n          this.computeHorizon(eyePoint, twinEdge, oppositeFace, horizon);\n        } else {\n\n          horizon.push(edge);\n        }\n      }\n\n      edge = edge.next;\n    } while (edge !== crossEdge);\n\n    return this;\n  },\n\n  addAdjoiningFace: function addAdjoiningFace(eyeVertex, horizonEdge) {\n\n    var face = Face.create(eyeVertex, horizonEdge.tail(), horizonEdge.head());\n\n    this.faces.push(face);\n\n    face.getEdge(-1).setTwin(horizonEdge.twin);\n\n    return face.getEdge(0);\n  },\n\n  addNewFaces: function addNewFaces(eyeVertex, horizon) {\n\n    this.newFaces = [];\n\n    var firstSideEdge = null;\n    var previousSideEdge = null;\n\n    for (var i = 0; i < horizon.length; i++) {\n\n      var horizonEdge = horizon[i];\n\n      var sideEdge = this.addAdjoiningFace(eyeVertex, horizonEdge);\n\n      if (firstSideEdge === null) {\n\n        firstSideEdge = sideEdge;\n      } else {\n\n        sideEdge.next.setTwin(previousSideEdge);\n      }\n\n      this.newFaces.push(sideEdge.face);\n      previousSideEdge = sideEdge;\n    }\n\n    firstSideEdge.next.setTwin(previousSideEdge);\n\n    return this;\n  },\n\n  addVertexToHull: function addVertexToHull(eyeVertex) {\n\n    var horizon = [];\n    var i, face;\n\n    this.unassigned.clear();\n\n    this.removeVertexFromFace(eyeVertex, eyeVertex.face);\n\n    this.computeHorizon(eyeVertex.point, null, eyeVertex.face, horizon);\n\n    this.addNewFaces(eyeVertex, horizon);\n\n    this.resolveUnassignedPoints(this.newFaces);\n\n    return this;\n  },\n\n  cleanup: function cleanup() {\n\n    this.assigned.clear();\n    this.unassigned.clear();\n    this.newFaces = [];\n\n    return this;\n  },\n\n  compute: function compute() {\n\n    var vertex;\n\n    this.computeInitialHull();\n\n    while ((vertex = this.nextVertexToAdd()) !== undefined) {\n\n      this.addVertexToHull(vertex);\n    }\n\n    this.reindexFaces();\n\n    this.cleanup();\n\n    return this;\n  }\n\n});\n\nfunction Face() {\n\n  this.normal = new THREE.Vector3();\n  this.midpoint = new THREE.Vector3();\n  this.area = 0;\n\n  this.constant = 0;\n  this.outside = null;\n  this.mark = Visible;\n  this.edge = null;\n}\n\n__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default()(Face, {\n\n  create: function create(a, b, c) {\n\n    var face = new Face();\n\n    var e0 = new HalfEdge(a, face);\n    var e1 = new HalfEdge(b, face);\n    var e2 = new HalfEdge(c, face);\n\n    e0.next = e2.prev = e1;\n    e1.next = e0.prev = e2;\n    e2.next = e1.prev = e0;\n\n    face.edge = e0;\n\n    return face.compute();\n  }\n\n});\n\n__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default()(Face.prototype, {\n\n  getEdge: function getEdge(i) {\n\n    var edge = this.edge;\n\n    while (i > 0) {\n\n      edge = edge.next;\n      i--;\n    }\n\n    while (i < 0) {\n\n      edge = edge.prev;\n      i++;\n    }\n\n    return edge;\n  },\n\n  compute: function () {\n\n    var triangle;\n\n    return function compute() {\n\n      if (triangle === undefined) triangle = new THREE.Triangle();\n\n      var a = this.edge.tail();\n      var b = this.edge.head();\n      var c = this.edge.next.head();\n\n      triangle.set(a.point, b.point, c.point);\n\n      triangle.normal(this.normal);\n      triangle.midpoint(this.midpoint);\n      this.area = triangle.area();\n\n      this.constant = this.normal.dot(this.midpoint);\n\n      return this;\n    };\n  }(),\n\n  distanceToPoint: function distanceToPoint(point) {\n\n    return this.normal.dot(point) - this.constant;\n  }\n\n});\n\nfunction HalfEdge(vertex, face) {\n\n  this.vertex = vertex;\n  this.prev = null;\n  this.next = null;\n  this.twin = null;\n  this.face = face;\n}\n\n__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default()(HalfEdge.prototype, {\n\n  head: function head() {\n\n    return this.vertex;\n  },\n\n  tail: function tail() {\n\n    return this.prev ? this.prev.vertex : null;\n  },\n\n  length: function length() {\n\n    var head = this.head();\n    var tail = this.tail();\n\n    if (tail !== null) {\n\n      return tail.point.distanceTo(head.point);\n    }\n\n    return -1;\n  },\n\n  lengthSquared: function lengthSquared() {\n\n    var head = this.head();\n    var tail = this.tail();\n\n    if (tail !== null) {\n\n      return tail.point.distanceToSquared(head.point);\n    }\n\n    return -1;\n  },\n\n  setTwin: function setTwin(edge) {\n\n    this.twin = edge;\n    edge.twin = this;\n\n    return this;\n  }\n\n});\n\nfunction VertexNode(point) {\n\n  this.point = point;\n  this.prev = null;\n  this.next = null;\n  this.face = null;\n}\n\nfunction VertexList() {\n\n  this.head = null;\n  this.tail = null;\n}\n\n__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default()(VertexList.prototype, {\n\n  first: function first() {\n\n    return this.head;\n  },\n\n  last: function last() {\n\n    return this.tail;\n  },\n\n  clear: function clear() {\n\n    this.head = this.tail = null;\n\n    return this;\n  },\n\n  insertBefore: function insertBefore(target, vertex) {\n\n    vertex.prev = target.prev;\n    vertex.next = target;\n\n    if (vertex.prev === null) {\n\n      this.head = vertex;\n    } else {\n\n      vertex.prev.next = vertex;\n    }\n\n    target.prev = vertex;\n\n    return this;\n  },\n\n  insertAfter: function insertAfter(target, vertex) {\n\n    vertex.prev = target;\n    vertex.next = target.next;\n\n    if (vertex.next === null) {\n\n      this.tail = vertex;\n    } else {\n\n      vertex.next.prev = vertex;\n    }\n\n    target.next = vertex;\n\n    return this;\n  },\n\n  append: function append(vertex) {\n\n    if (this.head === null) {\n\n      this.head = vertex;\n    } else {\n\n      this.tail.next = vertex;\n    }\n\n    vertex.prev = this.tail;\n    vertex.next = null;\n\n    this.tail = vertex;\n\n    return this;\n  },\n\n  appendChain: function appendChain(vertex) {\n\n    if (this.head === null) {\n\n      this.head = vertex;\n    } else {\n\n      this.tail.next = vertex;\n    }\n\n    vertex.prev = this.tail;\n\n    while (vertex.next !== null) {\n\n      vertex = vertex.next;\n    }\n\n    this.tail = vertex;\n\n    return this;\n  },\n\n  remove: function remove(vertex) {\n\n    if (vertex.prev === null) {\n\n      this.head = vertex.next;\n    } else {\n\n      vertex.prev.next = vertex.next;\n    }\n\n    if (vertex.next === null) {\n\n      this.tail = vertex.prev;\n    } else {\n\n      vertex.next.prev = vertex.prev;\n    }\n\n    return this;\n  },\n\n  removeSubList: function removeSubList(a, b) {\n\n    if (a.prev === null) {\n\n      this.head = b.next;\n    } else {\n\n      a.prev.next = b.next;\n    }\n\n    if (b.next === null) {\n\n      this.tail = a.prev;\n    } else {\n\n      b.next.prev = a.prev;\n    }\n\n    return this;\n  },\n\n  isEmpty: function isEmpty() {\n\n    return this.head === null;\n  }\n\n});\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (QuickHull);\n\n/***/ }),\n\n/***/ 158:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_create__ = __webpack_require__(21);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_create__);\n\n\nvar THREE = window.THREE || __webpack_require__(10);\nvar TrackballControls = function TrackballControls(object, domElement) {\n\n\t\tvar _this = this;\n\t\tvar STATE = { NONE: -1, ROTATE: 0, ZOOM: 1, PAN: 2, TOUCH_ROTATE: 3, TOUCH_ZOOM_PAN: 4 };\n\n\t\tthis.object = object;\n\t\tthis.domElement = domElement !== undefined ? domElement : document;\n\n\t\tthis.enabled = true;\n\n\t\tthis.screen = { left: 0, top: 0, width: 0, height: 0 };\n\n\t\tthis.rotateSpeed = 1.0;\n\t\tthis.zoomSpeed = 1.2;\n\t\tthis.panSpeed = 0.3;\n\n\t\tthis.noRotate = false;\n\t\tthis.noZoom = false;\n\t\tthis.noPan = false;\n\n\t\tthis.staticMoving = false;\n\t\tthis.dynamicDampingFactor = 0.2;\n\n\t\tthis.minDistance = 0;\n\t\tthis.maxDistance = Infinity;\n\n\t\tthis.keys = [65, 83, 68];\n\n\t\tthis.target = new THREE.Vector3();\n\n\t\tvar EPS = 0.000001;\n\n\t\tvar lastPosition = new THREE.Vector3();\n\n\t\tvar _state = STATE.NONE,\n\t\t    _prevState = STATE.NONE,\n\t\t    _eye = new THREE.Vector3(),\n\t\t    _movePrev = new THREE.Vector2(),\n\t\t    _moveCurr = new THREE.Vector2(),\n\t\t    _lastAxis = new THREE.Vector3(),\n\t\t    _lastAngle = 0,\n\t\t    _zoomStart = new THREE.Vector2(),\n\t\t    _zoomEnd = new THREE.Vector2(),\n\t\t    _touchZoomDistanceStart = 0,\n\t\t    _touchZoomDistanceEnd = 0,\n\t\t    _panStart = new THREE.Vector2(),\n\t\t    _panEnd = new THREE.Vector2();\n\n\t\tthis.target0 = this.target.clone();\n\t\tthis.position0 = this.object.position.clone();\n\t\tthis.up0 = this.object.up.clone();\n\n\t\tvar changeEvent = { type: 'change' };\n\t\tvar startEvent = { type: 'start' };\n\t\tvar endEvent = { type: 'end' };\n\n\t\tthis.handleResize = function () {\n\n\t\t\t\tif (this.domElement === document) {\n\n\t\t\t\t\t\tthis.screen.left = 0;\n\t\t\t\t\t\tthis.screen.top = 0;\n\t\t\t\t\t\tthis.screen.width = window.innerWidth;\n\t\t\t\t\t\tthis.screen.height = window.innerHeight;\n\t\t\t\t} else {\n\n\t\t\t\t\t\tvar box = this.domElement.getBoundingClientRect();\n\n\t\t\t\t\t\tvar d = this.domElement.ownerDocument.documentElement;\n\t\t\t\t\t\tthis.screen.left = box.left + window.pageXOffset - d.clientLeft;\n\t\t\t\t\t\tthis.screen.top = box.top + window.pageYOffset - d.clientTop;\n\t\t\t\t\t\tthis.screen.width = box.width;\n\t\t\t\t\t\tthis.screen.height = box.height;\n\t\t\t\t}\n\t\t};\n\n\t\tthis.handleEvent = function (event) {\n\n\t\t\t\tif (typeof this[event.type] == 'function') {\n\n\t\t\t\t\t\tthis[event.type](event);\n\t\t\t\t}\n\t\t};\n\n\t\tvar getMouseOnScreen = function () {\n\n\t\t\t\tvar vector = new THREE.Vector2();\n\n\t\t\t\treturn function getMouseOnScreen(pageX, pageY) {\n\n\t\t\t\t\t\tvector.set((pageX - _this.screen.left) / _this.screen.width, (pageY - _this.screen.top) / _this.screen.height);\n\n\t\t\t\t\t\treturn vector;\n\t\t\t\t};\n\t\t}();\n\n\t\tvar getMouseOnCircle = function () {\n\n\t\t\t\tvar vector = new THREE.Vector2();\n\n\t\t\t\treturn function getMouseOnCircle(pageX, pageY) {\n\n\t\t\t\t\t\tvector.set((pageX - _this.screen.width * 0.5 - _this.screen.left) / (_this.screen.width * 0.5), (_this.screen.height + 2 * (_this.screen.top - pageY)) / _this.screen.width);\n\n\t\t\t\t\t\treturn vector;\n\t\t\t\t};\n\t\t}();\n\n\t\tthis.rotateCamera = function () {\n\n\t\t\t\tvar axis = new THREE.Vector3(),\n\t\t\t\t    quaternion = new THREE.Quaternion(),\n\t\t\t\t    eyeDirection = new THREE.Vector3(),\n\t\t\t\t    objectUpDirection = new THREE.Vector3(),\n\t\t\t\t    objectSidewaysDirection = new THREE.Vector3(),\n\t\t\t\t    moveDirection = new THREE.Vector3(),\n\t\t\t\t    angle;\n\n\t\t\t\treturn function rotateCamera() {\n\n\t\t\t\t\t\tmoveDirection.set(_moveCurr.x - _movePrev.x, _moveCurr.y - _movePrev.y, 0);\n\t\t\t\t\t\tangle = moveDirection.length();\n\n\t\t\t\t\t\tif (angle) {\n\n\t\t\t\t\t\t\t\t_eye.copy(_this.object.position).sub(_this.target);\n\n\t\t\t\t\t\t\t\teyeDirection.copy(_eye).normalize();\n\t\t\t\t\t\t\t\tobjectUpDirection.copy(_this.object.up).normalize();\n\t\t\t\t\t\t\t\tobjectSidewaysDirection.crossVectors(objectUpDirection, eyeDirection).normalize();\n\n\t\t\t\t\t\t\t\tobjectUpDirection.setLength(_moveCurr.y - _movePrev.y);\n\t\t\t\t\t\t\t\tobjectSidewaysDirection.setLength(_moveCurr.x - _movePrev.x);\n\n\t\t\t\t\t\t\t\tmoveDirection.copy(objectUpDirection.add(objectSidewaysDirection));\n\n\t\t\t\t\t\t\t\taxis.crossVectors(moveDirection, _eye).normalize();\n\n\t\t\t\t\t\t\t\tangle *= _this.rotateSpeed;\n\t\t\t\t\t\t\t\tquaternion.setFromAxisAngle(axis, angle);\n\n\t\t\t\t\t\t\t\t_eye.applyQuaternion(quaternion);\n\t\t\t\t\t\t\t\t_this.object.up.applyQuaternion(quaternion);\n\n\t\t\t\t\t\t\t\t_lastAxis.copy(axis);\n\t\t\t\t\t\t\t\t_lastAngle = angle;\n\t\t\t\t\t\t} else if (!_this.staticMoving && _lastAngle) {\n\n\t\t\t\t\t\t\t\t_lastAngle *= Math.sqrt(1.0 - _this.dynamicDampingFactor);\n\t\t\t\t\t\t\t\t_eye.copy(_this.object.position).sub(_this.target);\n\t\t\t\t\t\t\t\tquaternion.setFromAxisAngle(_lastAxis, _lastAngle);\n\t\t\t\t\t\t\t\t_eye.applyQuaternion(quaternion);\n\t\t\t\t\t\t\t\t_this.object.up.applyQuaternion(quaternion);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t_movePrev.copy(_moveCurr);\n\t\t\t\t};\n\t\t}();\n\n\t\tthis.zoomCamera = function () {\n\n\t\t\t\tvar factor;\n\n\t\t\t\tif (_state === STATE.TOUCH_ZOOM_PAN) {\n\n\t\t\t\t\t\tfactor = _touchZoomDistanceStart / _touchZoomDistanceEnd;\n\t\t\t\t\t\t_touchZoomDistanceStart = _touchZoomDistanceEnd;\n\t\t\t\t\t\t_eye.multiplyScalar(factor);\n\t\t\t\t} else {\n\n\t\t\t\t\t\tfactor = 1.0 + (_zoomEnd.y - _zoomStart.y) * _this.zoomSpeed;\n\n\t\t\t\t\t\tif (factor !== 1.0 && factor > 0.0) {\n\n\t\t\t\t\t\t\t\t_eye.multiplyScalar(factor);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (_this.staticMoving) {\n\n\t\t\t\t\t\t\t\t_zoomStart.copy(_zoomEnd);\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t_zoomStart.y += (_zoomEnd.y - _zoomStart.y) * this.dynamicDampingFactor;\n\t\t\t\t\t\t}\n\t\t\t\t}\n\t\t};\n\n\t\tthis.panCamera = function () {\n\n\t\t\t\tvar mouseChange = new THREE.Vector2(),\n\t\t\t\t    objectUp = new THREE.Vector3(),\n\t\t\t\t    pan = new THREE.Vector3();\n\n\t\t\t\treturn function panCamera() {\n\n\t\t\t\t\t\tmouseChange.copy(_panEnd).sub(_panStart);\n\n\t\t\t\t\t\tif (mouseChange.lengthSq()) {\n\n\t\t\t\t\t\t\t\tmouseChange.multiplyScalar(_eye.length() * _this.panSpeed);\n\n\t\t\t\t\t\t\t\tpan.copy(_eye).cross(_this.object.up).setLength(mouseChange.x);\n\t\t\t\t\t\t\t\tpan.add(objectUp.copy(_this.object.up).setLength(mouseChange.y));\n\n\t\t\t\t\t\t\t\t_this.object.position.add(pan);\n\t\t\t\t\t\t\t\t_this.target.add(pan);\n\n\t\t\t\t\t\t\t\tif (_this.staticMoving) {\n\n\t\t\t\t\t\t\t\t\t\t_panStart.copy(_panEnd);\n\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t_panStart.add(mouseChange.subVectors(_panEnd, _panStart).multiplyScalar(_this.dynamicDampingFactor));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t};\n\t\t}();\n\n\t\tthis.checkDistances = function () {\n\n\t\t\t\tif (!_this.noZoom || !_this.noPan) {\n\n\t\t\t\t\t\tif (_eye.lengthSq() > _this.maxDistance * _this.maxDistance) {\n\n\t\t\t\t\t\t\t\t_this.object.position.addVectors(_this.target, _eye.setLength(_this.maxDistance));\n\t\t\t\t\t\t\t\t_zoomStart.copy(_zoomEnd);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (_eye.lengthSq() < _this.minDistance * _this.minDistance) {\n\n\t\t\t\t\t\t\t\t_this.object.position.addVectors(_this.target, _eye.setLength(_this.minDistance));\n\t\t\t\t\t\t\t\t_zoomStart.copy(_zoomEnd);\n\t\t\t\t\t\t}\n\t\t\t\t}\n\t\t};\n\n\t\tthis.update = function () {\n\n\t\t\t\t_eye.subVectors(_this.object.position, _this.target);\n\n\t\t\t\tif (!_this.noRotate) {\n\n\t\t\t\t\t\t_this.rotateCamera();\n\t\t\t\t}\n\n\t\t\t\tif (!_this.noZoom) {\n\n\t\t\t\t\t\t_this.zoomCamera();\n\t\t\t\t}\n\n\t\t\t\tif (!_this.noPan) {\n\n\t\t\t\t\t\t_this.panCamera();\n\t\t\t\t}\n\n\t\t\t\t_this.object.position.addVectors(_this.target, _eye);\n\n\t\t\t\t_this.checkDistances();\n\n\t\t\t\t_this.object.lookAt(_this.target);\n\n\t\t\t\tif (lastPosition.distanceToSquared(_this.object.position) > EPS) {\n\n\t\t\t\t\t\t_this.dispatchEvent(changeEvent);\n\n\t\t\t\t\t\tlastPosition.copy(_this.object.position);\n\t\t\t\t}\n\t\t};\n\n\t\tthis.reset = function () {\n\n\t\t\t\t_state = STATE.NONE;\n\t\t\t\t_prevState = STATE.NONE;\n\n\t\t\t\t_this.target.copy(_this.target0);\n\t\t\t\t_this.object.position.copy(_this.position0);\n\t\t\t\t_this.object.up.copy(_this.up0);\n\n\t\t\t\t_eye.subVectors(_this.object.position, _this.target);\n\n\t\t\t\t_this.object.lookAt(_this.target);\n\n\t\t\t\t_this.dispatchEvent(changeEvent);\n\n\t\t\t\tlastPosition.copy(_this.object.position);\n\t\t};\n\n\t\tfunction keydown(event) {\n\n\t\t\t\tif (_this.enabled === false) return;\n\n\t\t\t\twindow.removeEventListener('keydown', keydown);\n\n\t\t\t\t_prevState = _state;\n\n\t\t\t\tif (_state !== STATE.NONE) {\n\n\t\t\t\t\t\treturn;\n\t\t\t\t} else if (event.keyCode === _this.keys[STATE.ROTATE] && !_this.noRotate) {\n\n\t\t\t\t\t\t_state = STATE.ROTATE;\n\t\t\t\t} else if (event.keyCode === _this.keys[STATE.ZOOM] && !_this.noZoom) {\n\n\t\t\t\t\t\t_state = STATE.ZOOM;\n\t\t\t\t} else if (event.keyCode === _this.keys[STATE.PAN] && !_this.noPan) {\n\n\t\t\t\t\t\t_state = STATE.PAN;\n\t\t\t\t}\n\t\t}\n\n\t\tfunction keyup(event) {\n\n\t\t\t\tif (_this.enabled === false) return;\n\n\t\t\t\t_state = _prevState;\n\n\t\t\t\twindow.addEventListener('keydown', keydown, false);\n\t\t}\n\n\t\tfunction mousedown(event) {\n\n\t\t\t\tif (_this.enabled === false) return;\n\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\n\t\t\t\tif (_state === STATE.NONE) {\n\n\t\t\t\t\t\t_state = event.button;\n\t\t\t\t}\n\n\t\t\t\tif (_state === STATE.ROTATE && !_this.noRotate) {\n\n\t\t\t\t\t\t_moveCurr.copy(getMouseOnCircle(event.pageX, event.pageY));\n\t\t\t\t\t\t_movePrev.copy(_moveCurr);\n\t\t\t\t} else if (_state === STATE.ZOOM && !_this.noZoom) {\n\n\t\t\t\t\t\t_zoomStart.copy(getMouseOnScreen(event.pageX, event.pageY));\n\t\t\t\t\t\t_zoomEnd.copy(_zoomStart);\n\t\t\t\t} else if (_state === STATE.PAN && !_this.noPan) {\n\n\t\t\t\t\t\t_panStart.copy(getMouseOnScreen(event.pageX, event.pageY));\n\t\t\t\t\t\t_panEnd.copy(_panStart);\n\t\t\t\t}\n\n\t\t\t\tdocument.addEventListener('mousemove', mousemove, false);\n\t\t\t\tdocument.addEventListener('mouseup', mouseup, false);\n\n\t\t\t\t_this.dispatchEvent(startEvent);\n\t\t}\n\n\t\tfunction mousemove(event) {\n\n\t\t\t\tif (_this.enabled === false) return;\n\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\n\t\t\t\tif (_state === STATE.ROTATE && !_this.noRotate) {\n\n\t\t\t\t\t\t_movePrev.copy(_moveCurr);\n\t\t\t\t\t\t_moveCurr.copy(getMouseOnCircle(event.pageX, event.pageY));\n\t\t\t\t} else if (_state === STATE.ZOOM && !_this.noZoom) {\n\n\t\t\t\t\t\t_zoomEnd.copy(getMouseOnScreen(event.pageX, event.pageY));\n\t\t\t\t} else if (_state === STATE.PAN && !_this.noPan) {\n\n\t\t\t\t\t\t_panEnd.copy(getMouseOnScreen(event.pageX, event.pageY));\n\t\t\t\t}\n\t\t}\n\n\t\tfunction mouseup(event) {\n\n\t\t\t\tif (_this.enabled === false) return;\n\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\n\t\t\t\t_state = STATE.NONE;\n\n\t\t\t\tdocument.removeEventListener('mousemove', mousemove);\n\t\t\t\tdocument.removeEventListener('mouseup', mouseup);\n\t\t\t\t_this.dispatchEvent(endEvent);\n\t\t}\n\n\t\tfunction mousewheel(event) {\n\n\t\t\t\tif (_this.enabled === false) return;\n\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\n\t\t\t\tswitch (event.deltaMode) {\n\n\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\t\t_zoomStart.y -= event.deltaY * 0.025;\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 1:\n\t\t\t\t\t\t\t\t_zoomStart.y -= event.deltaY * 0.01;\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t_zoomStart.y -= event.deltaY * 0.00025;\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\t_this.dispatchEvent(startEvent);\n\t\t\t\t_this.dispatchEvent(endEvent);\n\t\t}\n\n\t\tfunction touchstart(event) {\n\n\t\t\t\tif (_this.enabled === false) return;\n\n\t\t\t\tswitch (event.touches.length) {\n\n\t\t\t\t\t\tcase 1:\n\t\t\t\t\t\t\t\t_state = STATE.TOUCH_ROTATE;\n\t\t\t\t\t\t\t\t_moveCurr.copy(getMouseOnCircle(event.touches[0].pageX, event.touches[0].pageY));\n\t\t\t\t\t\t\t\t_movePrev.copy(_moveCurr);\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t_state = STATE.TOUCH_ZOOM_PAN;\n\t\t\t\t\t\t\t\tvar dx = event.touches[0].pageX - event.touches[1].pageX;\n\t\t\t\t\t\t\t\tvar dy = event.touches[0].pageY - event.touches[1].pageY;\n\t\t\t\t\t\t\t\t_touchZoomDistanceEnd = _touchZoomDistanceStart = Math.sqrt(dx * dx + dy * dy);\n\n\t\t\t\t\t\t\t\tvar x = (event.touches[0].pageX + event.touches[1].pageX) / 2;\n\t\t\t\t\t\t\t\tvar y = (event.touches[0].pageY + event.touches[1].pageY) / 2;\n\t\t\t\t\t\t\t\t_panStart.copy(getMouseOnScreen(x, y));\n\t\t\t\t\t\t\t\t_panEnd.copy(_panStart);\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\t_this.dispatchEvent(startEvent);\n\t\t}\n\n\t\tfunction touchmove(event) {\n\n\t\t\t\tif (_this.enabled === false) return;\n\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\n\t\t\t\tswitch (event.touches.length) {\n\n\t\t\t\t\t\tcase 1:\n\t\t\t\t\t\t\t\t_movePrev.copy(_moveCurr);\n\t\t\t\t\t\t\t\t_moveCurr.copy(getMouseOnCircle(event.touches[0].pageX, event.touches[0].pageY));\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tvar dx = event.touches[0].pageX - event.touches[1].pageX;\n\t\t\t\t\t\t\t\tvar dy = event.touches[0].pageY - event.touches[1].pageY;\n\t\t\t\t\t\t\t\t_touchZoomDistanceEnd = Math.sqrt(dx * dx + dy * dy);\n\n\t\t\t\t\t\t\t\tvar x = (event.touches[0].pageX + event.touches[1].pageX) / 2;\n\t\t\t\t\t\t\t\tvar y = (event.touches[0].pageY + event.touches[1].pageY) / 2;\n\t\t\t\t\t\t\t\t_panEnd.copy(getMouseOnScreen(x, y));\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\t\t}\n\n\t\tfunction touchend(event) {\n\n\t\t\t\tif (_this.enabled === false) return;\n\n\t\t\t\tswitch (event.touches.length) {\n\n\t\t\t\t\t\tcase 0:\n\t\t\t\t\t\t\t\t_state = STATE.NONE;\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 1:\n\t\t\t\t\t\t\t\t_state = STATE.TOUCH_ROTATE;\n\t\t\t\t\t\t\t\t_moveCurr.copy(getMouseOnCircle(event.touches[0].pageX, event.touches[0].pageY));\n\t\t\t\t\t\t\t\t_movePrev.copy(_moveCurr);\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\t_this.dispatchEvent(endEvent);\n\t\t}\n\n\t\tfunction contextmenu(event) {\n\n\t\t\t\tevent.preventDefault();\n\t\t}\n\n\t\tthis.dispose = function () {\n\n\t\t\t\tthis.domElement.removeEventListener('contextmenu', contextmenu, false);\n\t\t\t\tthis.domElement.removeEventListener('mousedown', mousedown, false);\n\t\t\t\tthis.domElement.removeEventListener('wheel', mousewheel, false);\n\n\t\t\t\tthis.domElement.removeEventListener('touchstart', touchstart, false);\n\t\t\t\tthis.domElement.removeEventListener('touchend', touchend, false);\n\t\t\t\tthis.domElement.removeEventListener('touchmove', touchmove, false);\n\n\t\t\t\tdocument.removeEventListener('mousemove', mousemove, false);\n\t\t\t\tdocument.removeEventListener('mouseup', mouseup, false);\n\n\t\t\t\twindow.removeEventListener('keydown', keydown, false);\n\t\t\t\twindow.removeEventListener('keyup', keyup, false);\n\t\t};\n\n\t\tthis.domElement.addEventListener('contextmenu', contextmenu, false);\n\t\tthis.domElement.addEventListener('mousedown', mousedown, false);\n\t\tthis.domElement.addEventListener('wheel', mousewheel, false);\n\n\t\tthis.domElement.addEventListener('touchstart', touchstart, false);\n\t\tthis.domElement.addEventListener('touchend', touchend, false);\n\t\tthis.domElement.addEventListener('touchmove', touchmove, false);\n\n\t\twindow.addEventListener('keydown', keydown, false);\n\t\twindow.addEventListener('keyup', keyup, false);\n\n\t\tthis.handleResize();\n\n\t\tthis.update();\n};\n\nTrackballControls.prototype = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_create___default()(THREE.EventDispatcher.prototype);\nTrackballControls.prototype.constructor = THREE.TrackballControls;\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (TrackballControls);\n\n/***/ }),\n\n/***/ 159:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App__ = __webpack_require__(152);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__App__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__router__ = __webpack_require__(151);\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].config.productionTip = false;\n\nnew __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */]({\n  el: '#app',\n  router: __WEBPACK_IMPORTED_MODULE_2__router__[\"a\" /* default */],\n  template: '<App/>',\n  components: { App: __WEBPACK_IMPORTED_MODULE_1__App___default.a }\n});\n\n/***/ }),\n\n/***/ 160:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_Scene__ = __webpack_require__(149);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_Scene___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_Scene__);\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'app',\n  components: { Scene: __WEBPACK_IMPORTED_MODULE_0__components_Scene___default.a }\n});\n\n/***/ }),\n\n/***/ 161:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray__ = __webpack_require__(165);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_three__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__lib_TrackballControls__ = __webpack_require__(158);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__lib_ConvexGeometry__ = __webpack_require__(156);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_coordinate_systems__ = __webpack_require__(166);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_coordinate_systems___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_coordinate_systems__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_moment__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_moment__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_suncalc__ = __webpack_require__(202);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_suncalc___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_suncalc__);\n\n\n\n\n\n\n\n\n\n\nvar scene = new __WEBPACK_IMPORTED_MODULE_1_three__[\"Scene\"]();\nvar camera = new __WEBPACK_IMPORTED_MODULE_1_three__[\"PerspectiveCamera\"](75, window.innerWidth / window.innerHeight, 1, 10000);\ncamera.position.set(-8, 32, 36);\ncamera.lookAt(scene.position);\n\n\nvar controls = new __WEBPACK_IMPORTED_MODULE_2__lib_TrackballControls__[\"a\" /* default */](camera);\ncontrols.rotateSpeed = 5.0;\ncontrols.zoomSpeed = 3.2;\ncontrols.panSpeed = 0.8;\ncontrols.noZoom = false;\ncontrols.noPan = false;\ncontrols.staticMoving = false;\ncontrols.dynamicDampingFactor = 0.2;\n\nvar RADIUS = 35;\nvar geometry = new __WEBPACK_IMPORTED_MODULE_1_three__[\"BoxGeometry\"](15, 15, 5);\nvar material = new __WEBPACK_IMPORTED_MODULE_1_three__[\"MeshStandardMaterial\"]({ color: 0xCC0000 });\nvar box = new __WEBPACK_IMPORTED_MODULE_1_three__[\"Mesh\"](geometry, material);\nbox.position.y = 7.5;\nbox.rotation.y = deg2rad(-103.09);\nbox.castShadow = true;\nscene.add(box);\n\nvar circleGeometry = new __WEBPACK_IMPORTED_MODULE_1_three__[\"CircleGeometry\"](RADIUS, 64);\nvar circleMaterial = new __WEBPACK_IMPORTED_MODULE_1_three__[\"MeshStandardMaterial\"]({ color: 0x3498db, transparent: true, opacity: 1 });\ncircleMaterial.side = __WEBPACK_IMPORTED_MODULE_1_three__[\"DoubleSide\"];\n\nvar circle = new __WEBPACK_IMPORTED_MODULE_1_three__[\"Mesh\"](circleGeometry, circleMaterial);\ncircle.rotation.x = deg2rad(90);\ncircle.receiveShadow = true;\nscene.add(circle);\n\nvar light = new __WEBPACK_IMPORTED_MODULE_1_three__[\"DirectionalLight\"](0xffffff, 1, 100);\nlight.position.set(15, 25, 0);\nlight.target.position.set(0, 0, 0);\n\nlight.castShadow = true;\n\nvar targetObject = new __WEBPACK_IMPORTED_MODULE_1_three__[\"Object3D\"]();\nscene.add(targetObject);\nlight.target = targetObject;\nlight.shadowMapWidth = 2048;\nlight.shadowMapHeight = 2048;\nlight.shadowCameraLeft = -50;\nlight.shadowCameraBottom = -50;\nlight.shadowCameraRight = 50;\nlight.shadowCameraTop = 50;\nscene.add(light);\n\nvar lightHelper = new __WEBPACK_IMPORTED_MODULE_1_three__[\"DirectionalLightHelper\"](light, 5);\n\n\nvar helper = new __WEBPACK_IMPORTED_MODULE_1_three__[\"CameraHelper\"](light.shadow.camera);\n\nvar LAT = 51.096474713;\nvar LNG = 17.034752369;\n\nscene.add(getSunPath(new Date(2017, 5, 21), RADIUS, LAT, LNG, 0xf1c40f));\nscene.add(getSunPath(new Date(2017, 5, 1), RADIUS, LAT, LNG, 0x00ff00));\nscene.add(getSunPath(new Date(2017, 11, 21), RADIUS, LAT, LNG, 0xf39c12));\n\nvar sunMeshVertices = [].concat(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray___default()(getSunPath(new Date(2017, 5, 21), RADIUS, LAT, LNG, 0xf1c40f, true).vertices), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray___default()(getSunPath(new Date(2017, 6, 21), RADIUS, LAT, LNG, 0xf1c40f, true).vertices), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray___default()(getSunPath(new Date(2017, 7, 21), RADIUS, LAT, LNG, 0xf1c40f, true).vertices), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray___default()(getSunPath(new Date(2017, 8, 21), RADIUS, LAT, LNG, 0xf1c40f, true).vertices), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray___default()(getSunPath(new Date(2017, 9, 21), RADIUS, LAT, LNG, 0xf1c40f, true).vertices), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray___default()(getSunPath(new Date(2017, 10, 21), RADIUS, LAT, LNG, 0xf1c40f, true).vertices), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray___default()(getSunPath(new Date(2017, 11, 21), RADIUS, LAT, LNG, 0xf1c40f, true).vertices));\n\nvar sunMaterial = new __WEBPACK_IMPORTED_MODULE_1_three__[\"MeshBasicMaterial\"]({ color: 0xf1c40f, transparent: true, opacity: 0.25 });\nsunMaterial.side = __WEBPACK_IMPORTED_MODULE_1_three__[\"DoubleSide\"];\n\nvar sunMinMax = {\n  min: new Date(2017, 5, 21).valueOf(),\n  max: new Date(2017, 11, 21).valueOf()\n};\n\nvar sunGeo = new __WEBPACK_IMPORTED_MODULE_1_three__[\"ParametricGeometry\"](function (u, v) {\n  var d = sunMinMax.min + u * (sunMinMax.max - sunMinMax.min);\n  var times = __WEBPACK_IMPORTED_MODULE_6_suncalc___default.a.getTimes(d, LAT, LNG);\n  var t = times.sunrise.valueOf() + v * (times.sunset.valueOf() - times.sunrise.valueOf());\n\n  var pos = __WEBPACK_IMPORTED_MODULE_6_suncalc___default.a.getPosition(t, LAT, LNG);\n  return getXYZbyRotation(RADIUS, pos.azimuth + Math.PI, pos.altitude);\n}, 25, 25);\nvar sunMesh = new __WEBPACK_IMPORTED_MODULE_1_three__[\"Mesh\"](sunGeo, sunMaterial);\n\nvar sphereGeometry = new __WEBPACK_IMPORTED_MODULE_1_three__[\"SphereGeometry\"](1, 8, 8);\nvar sphereMaterial = new __WEBPACK_IMPORTED_MODULE_1_three__[\"MeshBasicMaterial\"]({ color: 0xff0000, transparent: true, opacity: 1 });\nvar sphere = new __WEBPACK_IMPORTED_MODULE_1_three__[\"Mesh\"](sphereGeometry, sphereMaterial);\n\nscene.add(sphere);\nscene.add(sunMesh);\n\nvar time = Date.now();\nvar currentSunPosition = __WEBPACK_IMPORTED_MODULE_6_suncalc___default.a.getPosition(new Date(time), LAT, LNG);\nvar currentSunPositionXYZ = getXYZbyRotation(RADIUS, currentSunPosition.azimuth + Math.PI, currentSunPosition.altitude);\n\nsphere.position.set(currentSunPositionXYZ.x, currentSunPositionXYZ.y, currentSunPositionXYZ.z);\n\n\nvar renderer = new __WEBPACK_IMPORTED_MODULE_1_three__[\"WebGLRenderer\"]({\n  alpha: true,\n  antialias: true\n});\nrenderer.shadowMap.soft = true;\n\n\nrenderer.shadowMap.enabled = true;\nrenderer.shadowMap.type = __WEBPACK_IMPORTED_MODULE_1_three__[\"PCFBasicShadowMap\"];\nrenderer.setSize(window.innerWidth, window.innerHeight);\n\nvar axisHelper = new __WEBPACK_IMPORTED_MODULE_1_three__[\"AxisHelper\"](10);\nscene.add(axisHelper);\n\nvar gridHelper = new __WEBPACK_IMPORTED_MODULE_1_three__[\"GridHelper\"](100, 100);\n\n\nvar loader = new __WEBPACK_IMPORTED_MODULE_1_three__[\"FontLoader\"]();\n\nloader.load('/static/fonts/helvetiker_regular.typeface.json', function (font) {\n  var offsetXYZ = RADIUS * 0.75;\n  var offsetNSEW = RADIUS + 5;\n  addText('X', [offsetXYZ, 0, 0], [0, 0, 0], font, 0xe74c3c);\n  addText('Y', [0, offsetXYZ, 0], [0, 0, 0], font, 0x2ecc71);\n  addText('Z', [0, 0, offsetXYZ], [0, 0, 0], font, 0x3498db);\n\n  addText('N', [offsetNSEW, 0, 0], [-Math.PI / 2, 0, 0], font, 0xf1c40f);\n  addText('S', [-offsetNSEW, 0, 0], [-Math.PI / 2, 0, 0], font, 0xf1c40f);\n  addText('E', [0, 0, offsetNSEW], [-Math.PI / 2, 0, 0], font, 0xf1c40f);\n  addText('W', [0, 0, -offsetNSEW], [-Math.PI / 2, 0, 0], font, 0xf1c40f);\n  render();\n});\n\ncontrols.addEventListener('change', render);\n\nfunction animate() {\n  requestAnimationFrame(animate);\n\n  time += 5 * 60 * 1000;\n  var currentSunPosition = __WEBPACK_IMPORTED_MODULE_6_suncalc___default.a.getPosition(new Date(time), LAT, LNG);\n  var currentSunPositionXYZ = getXYZbyRotation(RADIUS, currentSunPosition.azimuth + Math.PI, currentSunPosition.altitude);\n\n  sphere.position.set(currentSunPositionXYZ.x, currentSunPositionXYZ.y, currentSunPositionXYZ.z);\n  light.position.set(currentSunPositionXYZ.x, currentSunPositionXYZ.y, currentSunPositionXYZ.z);\n  lightHelper.update();\n\n  controls.update();\n  render();\n}\n\nfunction render() {\n  renderer.render(scene, camera);\n}\n\n\nfunction addText(text, xyz, rotation, font) {\n  var color = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0xffffff;\n\n  var textGeo = new __WEBPACK_IMPORTED_MODULE_1_three__[\"TextGeometry\"](text, {\n    size: 2,\n    height: 0.2,\n    curveSegments: 6,\n    font: font,\n    style: 'normal'\n  });\n\n  var colorThree = new __WEBPACK_IMPORTED_MODULE_1_three__[\"Color\"](color);\n  var textMaterial = new __WEBPACK_IMPORTED_MODULE_1_three__[\"MeshBasicMaterial\"]({ color: colorThree });\n  var textMesh = new __WEBPACK_IMPORTED_MODULE_1_three__[\"Mesh\"](textGeo, textMaterial);\n\n  textMesh.position.x = xyz[0];\n  textMesh.position.y = xyz[1];\n  textMesh.position.z = xyz[2];\n  textMesh.rotation.x = rotation[0];\n  textMesh.rotation.y = rotation[1];\n  textMesh.rotation.z = rotation[2];\n  scene.add(textMesh);\n}\n\nfunction getXYZbyRotation() {\n  var radius = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  var theta = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var phi = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n\n  phi = Math.PI / 2 - phi;\n  var x = radius * Math.sin(phi) * Math.cos(theta);\n  var z = radius * Math.sin(phi) * Math.sin(theta);\n  var y = radius * Math.cos(phi);\n\n  return new __WEBPACK_IMPORTED_MODULE_1_three__[\"Vector3\"](x, y, z);\n}\n\nfunction getSunPath(date, RADIUS, LAT, LNG) {\n  var color = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0xff00ff;\n  var geometry = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : false;\n\n  var sunTimes = __WEBPACK_IMPORTED_MODULE_6_suncalc___default.a.getTimes(date, LAT, LNG);\n\n\n  var sunrise = __WEBPACK_IMPORTED_MODULE_5_moment___default()(sunTimes.sunrise).valueOf();\n  var sunset = __WEBPACK_IMPORTED_MODULE_5_moment___default()(sunTimes.sunset).valueOf();\n  var step = 30 * 60 * 1000;\n\n  var lineMaterial = new __WEBPACK_IMPORTED_MODULE_1_three__[\"LineBasicMaterial\"]({\n    color: color\n  });\n\n  var lineGeometry = new __WEBPACK_IMPORTED_MODULE_1_three__[\"Geometry\"]();\n\n  for (var n = sunrise; n <= sunset; n += step) {\n    var sunPos = __WEBPACK_IMPORTED_MODULE_6_suncalc___default.a.getPosition(new Date(n), LAT, LNG);\n    var xyz = getXYZbyRotation(RADIUS, sunPos.azimuth + Math.PI, sunPos.altitude);\n    lineGeometry.vertices.push(xyz);\n  }\n\n  return geometry ? lineGeometry : new __WEBPACK_IMPORTED_MODULE_1_three__[\"Line\"](lineGeometry, lineMaterial);\n}\n\nfunction rad2deg(rad) {\n  return rad * (180 / Math.PI);\n}\n\nfunction deg2rad(deg) {\n  return deg * (Math.PI / 180);\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'scene',\n  data: function data() {\n    return {};\n  },\n  mounted: function mounted() {\n    if (this.$refs.scene.querySelector('canvas') === null) {\n      this.$refs.scene.appendChild(renderer.domElement);\n      render();\n      animate();\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 199:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 200:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 201:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar map = {\n\t\"./af\": 34,\n\t\"./af.js\": 34,\n\t\"./ar\": 41,\n\t\"./ar-dz\": 35,\n\t\"./ar-dz.js\": 35,\n\t\"./ar-kw\": 36,\n\t\"./ar-kw.js\": 36,\n\t\"./ar-ly\": 37,\n\t\"./ar-ly.js\": 37,\n\t\"./ar-ma\": 38,\n\t\"./ar-ma.js\": 38,\n\t\"./ar-sa\": 39,\n\t\"./ar-sa.js\": 39,\n\t\"./ar-tn\": 40,\n\t\"./ar-tn.js\": 40,\n\t\"./ar.js\": 41,\n\t\"./az\": 42,\n\t\"./az.js\": 42,\n\t\"./be\": 43,\n\t\"./be.js\": 43,\n\t\"./bg\": 44,\n\t\"./bg.js\": 44,\n\t\"./bn\": 45,\n\t\"./bn.js\": 45,\n\t\"./bo\": 46,\n\t\"./bo.js\": 46,\n\t\"./br\": 47,\n\t\"./br.js\": 47,\n\t\"./bs\": 48,\n\t\"./bs.js\": 48,\n\t\"./ca\": 49,\n\t\"./ca.js\": 49,\n\t\"./cs\": 50,\n\t\"./cs.js\": 50,\n\t\"./cv\": 51,\n\t\"./cv.js\": 51,\n\t\"./cy\": 52,\n\t\"./cy.js\": 52,\n\t\"./da\": 53,\n\t\"./da.js\": 53,\n\t\"./de\": 56,\n\t\"./de-at\": 54,\n\t\"./de-at.js\": 54,\n\t\"./de-ch\": 55,\n\t\"./de-ch.js\": 55,\n\t\"./de.js\": 56,\n\t\"./dv\": 57,\n\t\"./dv.js\": 57,\n\t\"./el\": 58,\n\t\"./el.js\": 58,\n\t\"./en-au\": 59,\n\t\"./en-au.js\": 59,\n\t\"./en-ca\": 60,\n\t\"./en-ca.js\": 60,\n\t\"./en-gb\": 61,\n\t\"./en-gb.js\": 61,\n\t\"./en-ie\": 62,\n\t\"./en-ie.js\": 62,\n\t\"./en-nz\": 63,\n\t\"./en-nz.js\": 63,\n\t\"./eo\": 64,\n\t\"./eo.js\": 64,\n\t\"./es\": 66,\n\t\"./es-do\": 65,\n\t\"./es-do.js\": 65,\n\t\"./es.js\": 66,\n\t\"./et\": 67,\n\t\"./et.js\": 67,\n\t\"./eu\": 68,\n\t\"./eu.js\": 68,\n\t\"./fa\": 69,\n\t\"./fa.js\": 69,\n\t\"./fi\": 70,\n\t\"./fi.js\": 70,\n\t\"./fo\": 71,\n\t\"./fo.js\": 71,\n\t\"./fr\": 74,\n\t\"./fr-ca\": 72,\n\t\"./fr-ca.js\": 72,\n\t\"./fr-ch\": 73,\n\t\"./fr-ch.js\": 73,\n\t\"./fr.js\": 74,\n\t\"./fy\": 75,\n\t\"./fy.js\": 75,\n\t\"./gd\": 76,\n\t\"./gd.js\": 76,\n\t\"./gl\": 77,\n\t\"./gl.js\": 77,\n\t\"./gom-latn\": 78,\n\t\"./gom-latn.js\": 78,\n\t\"./he\": 79,\n\t\"./he.js\": 79,\n\t\"./hi\": 80,\n\t\"./hi.js\": 80,\n\t\"./hr\": 81,\n\t\"./hr.js\": 81,\n\t\"./hu\": 82,\n\t\"./hu.js\": 82,\n\t\"./hy-am\": 83,\n\t\"./hy-am.js\": 83,\n\t\"./id\": 84,\n\t\"./id.js\": 84,\n\t\"./is\": 85,\n\t\"./is.js\": 85,\n\t\"./it\": 86,\n\t\"./it.js\": 86,\n\t\"./ja\": 87,\n\t\"./ja.js\": 87,\n\t\"./jv\": 88,\n\t\"./jv.js\": 88,\n\t\"./ka\": 89,\n\t\"./ka.js\": 89,\n\t\"./kk\": 90,\n\t\"./kk.js\": 90,\n\t\"./km\": 91,\n\t\"./km.js\": 91,\n\t\"./kn\": 92,\n\t\"./kn.js\": 92,\n\t\"./ko\": 93,\n\t\"./ko.js\": 93,\n\t\"./ky\": 94,\n\t\"./ky.js\": 94,\n\t\"./lb\": 95,\n\t\"./lb.js\": 95,\n\t\"./lo\": 96,\n\t\"./lo.js\": 96,\n\t\"./lt\": 97,\n\t\"./lt.js\": 97,\n\t\"./lv\": 98,\n\t\"./lv.js\": 98,\n\t\"./me\": 99,\n\t\"./me.js\": 99,\n\t\"./mi\": 100,\n\t\"./mi.js\": 100,\n\t\"./mk\": 101,\n\t\"./mk.js\": 101,\n\t\"./ml\": 102,\n\t\"./ml.js\": 102,\n\t\"./mr\": 103,\n\t\"./mr.js\": 103,\n\t\"./ms\": 105,\n\t\"./ms-my\": 104,\n\t\"./ms-my.js\": 104,\n\t\"./ms.js\": 105,\n\t\"./my\": 106,\n\t\"./my.js\": 106,\n\t\"./nb\": 107,\n\t\"./nb.js\": 107,\n\t\"./ne\": 108,\n\t\"./ne.js\": 108,\n\t\"./nl\": 110,\n\t\"./nl-be\": 109,\n\t\"./nl-be.js\": 109,\n\t\"./nl.js\": 110,\n\t\"./nn\": 111,\n\t\"./nn.js\": 111,\n\t\"./pa-in\": 112,\n\t\"./pa-in.js\": 112,\n\t\"./pl\": 113,\n\t\"./pl.js\": 113,\n\t\"./pt\": 115,\n\t\"./pt-br\": 114,\n\t\"./pt-br.js\": 114,\n\t\"./pt.js\": 115,\n\t\"./ro\": 116,\n\t\"./ro.js\": 116,\n\t\"./ru\": 117,\n\t\"./ru.js\": 117,\n\t\"./sd\": 118,\n\t\"./sd.js\": 118,\n\t\"./se\": 119,\n\t\"./se.js\": 119,\n\t\"./si\": 120,\n\t\"./si.js\": 120,\n\t\"./sk\": 121,\n\t\"./sk.js\": 121,\n\t\"./sl\": 122,\n\t\"./sl.js\": 122,\n\t\"./sq\": 123,\n\t\"./sq.js\": 123,\n\t\"./sr\": 125,\n\t\"./sr-cyrl\": 124,\n\t\"./sr-cyrl.js\": 124,\n\t\"./sr.js\": 125,\n\t\"./ss\": 126,\n\t\"./ss.js\": 126,\n\t\"./sv\": 127,\n\t\"./sv.js\": 127,\n\t\"./sw\": 128,\n\t\"./sw.js\": 128,\n\t\"./ta\": 129,\n\t\"./ta.js\": 129,\n\t\"./te\": 130,\n\t\"./te.js\": 130,\n\t\"./tet\": 131,\n\t\"./tet.js\": 131,\n\t\"./th\": 132,\n\t\"./th.js\": 132,\n\t\"./tl-ph\": 133,\n\t\"./tl-ph.js\": 133,\n\t\"./tlh\": 134,\n\t\"./tlh.js\": 134,\n\t\"./tr\": 135,\n\t\"./tr.js\": 135,\n\t\"./tzl\": 136,\n\t\"./tzl.js\": 136,\n\t\"./tzm\": 138,\n\t\"./tzm-latn\": 137,\n\t\"./tzm-latn.js\": 137,\n\t\"./tzm.js\": 138,\n\t\"./uk\": 139,\n\t\"./uk.js\": 139,\n\t\"./ur\": 140,\n\t\"./ur.js\": 140,\n\t\"./uz\": 142,\n\t\"./uz-latn\": 141,\n\t\"./uz-latn.js\": 141,\n\t\"./uz.js\": 142,\n\t\"./vi\": 143,\n\t\"./vi.js\": 143,\n\t\"./x-pseudo\": 144,\n\t\"./x-pseudo.js\": 144,\n\t\"./yo\": 145,\n\t\"./yo.js\": 145,\n\t\"./zh-cn\": 146,\n\t\"./zh-cn.js\": 146,\n\t\"./zh-hk\": 147,\n\t\"./zh-hk.js\": 147,\n\t\"./zh-tw\": 148,\n\t\"./zh-tw.js\": 148\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 201;\n\n/***/ }),\n\n/***/ 203:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    ref: \"scene\",\n    staticClass: \"Scene\"\n  }, [_c('p', [_vm._v(\"hello world!\")])])\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 204:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('Scene')], 1)\n},staticRenderFns: []}\n\n/***/ })\n\n},[159]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.d9041eee8f28f833ec67.js","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-38d91c16\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Scene.vue\")\n}\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Scene.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-38d91c16\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Scene.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Scene.vue\n// module id = 149\n// module chunks = 1","import Vue from 'vue';\r\nimport Router from 'vue-router';\r\nimport Scene from '../components/Scene';\r\n\r\nVue.use(Router);\r\n\r\nexport default new Router({\r\n  routes: [\r\n    {\r\n      path: '/',\r\n      name: 'Scene',\r\n      component: Scene,\r\n    },\r\n  ],\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6346ab6e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar Component = require(\"!../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"),\n  /* template */\n  require(\"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6346ab6e\\\"}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 152\n// module chunks = 1","/* eslint-disable */\n/**\n * @author Mugen87 / https://github.com/Mugen87\n */\nconst THREE = window.THREE || require('three');\nimport QuickHull from './QuickHull';\n\nTHREE.QuickHull = QuickHull;\n\n// ConvexGeometry\n\nvar ConvexGeometry = function(points) {\n\n  THREE.Geometry.call(this);\n\n  this.type = 'ConvexGeometry';\n\n  this.fromBufferGeometry(new ConvexBufferGeometry(points));\n  this.mergeVertices();\n\n}\n\nConvexGeometry.prototype = Object.create(THREE.Geometry.prototype);\nConvexGeometry.prototype.constructor = ConvexGeometry;\n\n// ConvexBufferGeometry\n\nvar ConvexBufferGeometry = function(points) {\n\n  THREE.BufferGeometry.call(this);\n\n  this.type = 'ConvexBufferGeometry';\n\n  // buffers\n\n  var vertices = [];\n  var normals = [];\n\n  // execute QuickHull\n\n  if (THREE.QuickHull === undefined) {\n\n    console.error('THREE.ConvexBufferGeometry: ConvexBufferGeometry relies on THREE.QuickHull');\n\n  }\n\n  var quickHull = new THREE.QuickHull().setFromPoints(points);\n\n  // generate vertices and normals\n\n  var faces = quickHull.faces;\n\n  for (var i = 0; i < faces.length; i++) {\n\n    var face = faces[i];\n    var edge = face.edge;\n\n    // we move along a doubly-connected edge list to access all face points (see HalfEdge docs)\n\n    do {\n\n      var point = edge.head().point;\n\n      vertices.push(point.x, point.y, point.z);\n      normals.push(face.normal.x, face.normal.y, face.normal.z);\n\n      edge = edge.next;\n\n    } while (edge !== face.edge);\n\n  }\n\n  // build geometry\n\n  this.addAttribute('position', new THREE.Float32BufferAttribute(vertices, 3));\n  this.addAttribute('normal', new THREE.Float32BufferAttribute(normals, 3));\n\n}\n\nConvexBufferGeometry.prototype = Object.create(THREE.BufferGeometry.prototype);\nConvexBufferGeometry.prototype.constructor = ConvexBufferGeometry;\n\n// export\n\n// THREE.ConvexGeometry = ConvexGeometry;\n// THREE.ConvexBufferGeometry = ConvexBufferGeometry;\n\nexport default ConvexGeometry;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/ConvexGeometry.js","/* eslint-disable */\n/**\n * @author Mugen87 / https://github.com/Mugen87\n *\n * Ported from: https://github.com/maurizzzio/quickhull3d/ by Mauricio Poppe (https://github.com/maurizzzio)\n *\n */\n\nconst THREE = window.THREE || require('three');\n\nvar Visible = 0;\nvar Deleted = 1;\n\nvar QuickHull = function () {\n\n  this.tolerance = -1;\n\n  this.faces = []; // the generated faces of the convex hull\n  this.newFaces = []; // this array holds the faces that are generated within a single iteration\n\n  // the vertex lists work as follows:\n  //\n  // let 'a' and 'b' be 'Face' instances\n  // let 'v' be points wrapped as instance of 'Vertex'\n  //\n  //     [v, v, ..., v, v, v, ...]\n  //      ^             ^\n  //      |             |\n  //  a.outside     b.outside\n  //\n  this.assigned = new VertexList();\n  this.unassigned = new VertexList();\n\n  this.vertices = []; \t// vertices of the hull (internal representation of given geometry data)\n\n}\n\nObject.assign(QuickHull.prototype, {\n\n  setFromPoints: function(points) {\n\n    if (Array.isArray(points) !== true) {\n\n      console.error('THREE.QuickHull: Points parameter is not an array.');\n\n    }\n\n    if (points.length < 4) {\n\n      console.error('THREE.QuickHull: The algorithm needs at least four points.');\n\n    }\n\n    this.makeEmpty();\n\n    for (var i = 0, l = points.length; i < l; i++) {\n\n      this.vertices.push(new VertexNode(points[i]));\n\n    }\n\n    this.compute();\n\n    return this;\n\n  },\n\n  setFromObject: function(object) {\n\n    var points = [];\n\n    object.updateMatrixWorld(true);\n\n    object.traverse(function(node) {\n\n      var i, l, point;\n\n      var geometry = node.geometry;\n\n      if (geometry !== undefined) {\n\n        if (geometry.isGeometry) {\n\n          var vertices = geometry.vertices;\n\n          for (i = 0, l = vertices.length; i < l; i++) {\n\n            point = vertices[i].clone();\n            point.applyMatrix4(node.matrixWorld);\n\n            points.push(point);\n\n          }\n\n        } else if (geometry.isBufferGeometry) {\n\n          var attribute = geometry.attributes.position;\n\n          if (attribute !== undefined) {\n\n            for (i = 0, l = attribute.count; i < l; i++) {\n\n              point = new THREE.Vector3();\n\n              point.fromBufferAttribute(attribute, i).applyMatrix4(node.matrixWorld);\n\n              points.push(point);\n\n            }\n\n          }\n\n        }\n\n      }\n\n    });\n\n    return this.setFromPoints(points);\n\n  },\n\n  makeEmpty: function() {\n\n    this.faces = [];\n    this.vertices = [];\n\n    return this;\n\n  },\n\n  // Adds a vertex to the 'assigned' list of vertices and assigns it to the given face\n\n  addVertexToFace: function(vertex, face) {\n\n    vertex.face = face;\n\n    if (face.outside === null) {\n\n      this.assigned.append(vertex);\n\n    } else {\n\n      this.assigned.insertBefore(face.outside, vertex);\n\n    }\n\n    face.outside = vertex;\n\n    return this;\n\n  },\n\n  // Removes a vertex from the 'assigned' list of vertices and from the given face\n\n  removeVertexFromFace: function(vertex, face) {\n\n    if (vertex === face.outside) {\n\n      // fix face.outside link\n\n      if (vertex.next !== null && vertex.next.face === face) {\n\n        // face has at least 2 outside vertices, move the 'outside' reference\n\n        face.outside = vertex.next;\n\n      } else {\n\n        // vertex was the only outside vertex that face had\n\n        face.outside = null;\n\n      }\n\n    }\n\n    this.assigned.remove(vertex);\n\n    return this;\n\n  },\n\n  // Removes all the visible vertices that a given face is able to see which are stored in the 'assigned' vertext list\n\n  removeAllVerticesFromFace: function(face) {\n\n    if (face.outside !== null) {\n\n      // reference to the first and last vertex of this face\n\n      var start = face.outside;\n      var end = face.outside;\n\n      while (end.next !== null && end.next.face === face) {\n\n        end = end.next;\n\n      }\n\n      this.assigned.removeSubList(start, end);\n\n      // fix references\n\n      start.prev = end.next = null;\n      face.outside = null;\n\n      return start;\n\n    }\n\n  },\n\n  // Removes all the visible vertices that 'face' is able to see\n\n  deleteFaceVertices: function(face, absorbingFace) {\n\n    var faceVertices = this.removeAllVerticesFromFace(face);\n\n    if (faceVertices !== undefined) {\n\n      if (absorbingFace === undefined) {\n\n        // mark the vertices to be reassigned to some other face\n\n        this.unassigned.appendChain(faceVertices);\n\n\n      } else {\n\n        // if there's an absorbing face try to assign as many vertices as possible to it\n\n        var vertex = faceVertices;\n\n        do {\n\n          // we need to buffer the subsequent vertex at this point because the 'vertex.next' reference\n          // will be changed by upcoming method calls\n\n          var nextVertex = vertex.next;\n\n          var distance = absorbingFace.distanceToPoint(vertex.point);\n\n          // check if 'vertex' is able to see 'absorbingFace'\n\n          if (distance > this.tolerance) {\n\n            this.addVertexToFace(vertex, absorbingFace);\n\n          } else {\n\n            this.unassigned.append(vertex);\n\n          }\n\n          // now assign next vertex\n\n          vertex = nextVertex;\n\n        } while (vertex !== null);\n\n      }\n\n    }\n\n    return this;\n\n  },\n\n  // Reassigns as many vertices as possible from the unassigned list to the new faces\n\n  resolveUnassignedPoints: function(newFaces) {\n\n    if (this.unassigned.isEmpty() === false) {\n\n      var vertex = this.unassigned.first();\n\n      do {\n\n        // buffer 'next' reference, see .deleteFaceVertices()\n\n        var nextVertex = vertex.next;\n\n        var maxDistance = this.tolerance;\n\n        var maxFace = null;\n\n        for (var i = 0; i < newFaces.length; i++) {\n\n          var face = newFaces[i];\n\n          if (face.mark === Visible) {\n\n            var distance = face.distanceToPoint(vertex.point);\n\n            if (distance > maxDistance) {\n\n              maxDistance = distance;\n              maxFace = face;\n\n            }\n\n            if (maxDistance > 1000 * this.tolerance) break;\n\n          }\n\n        }\n\n        // 'maxFace' can be null e.g. if there are identical vertices\n\n        if (maxFace !== null) {\n\n          this.addVertexToFace(vertex, maxFace);\n\n        }\n\n        vertex = nextVertex;\n\n      } while (vertex !== null);\n\n    }\n\n    return this;\n\n  },\n\n  // Computes the extremes of a simplex which will be the initial hull\n\n  computeExtremes: function() {\n\n    var min = new THREE.Vector3();\n    var max = new THREE.Vector3();\n\n    var minVertices = [];\n    var maxVertices = [];\n\n    var i, l, j;\n\n    // initially assume that the first vertex is the min/max\n\n    for (i = 0; i < 3; i++) {\n\n      minVertices[i] = maxVertices[i] = this.vertices[0];\n\n    }\n\n    min.copy(this.vertices[0].point);\n    max.copy(this.vertices[0].point);\n\n    // compute the min/max vertex on all six directions\n\n    for (i = 0, l = this.vertices.length; i < l; i++) {\n\n      var vertex = this.vertices[i];\n      var point = vertex.point;\n\n      // update the min coordinates\n\n      for (j = 0; j < 3; j++) {\n\n        if (point.getComponent(j) < min.getComponent(j)) {\n\n          min.setComponent(j, point.getComponent(j));\n          minVertices[j] = vertex;\n\n        }\n\n      }\n\n      // update the max coordinates\n\n      for (j = 0; j < 3; j++) {\n\n        if (point.getComponent(j) > max.getComponent(j)) {\n\n          max.setComponent(j, point.getComponent(j));\n          maxVertices[j] = vertex;\n\n        }\n\n      }\n\n    }\n\n    // use min/max vectors to compute an optimal epsilon\n\n    this.tolerance = 3 * Number.EPSILON * (\n        Math.max(Math.abs(min.x), Math.abs(max.x)) +\n        Math.max(Math.abs(min.y), Math.abs(max.y)) +\n        Math.max(Math.abs(min.z), Math.abs(max.z))\n      );\n\n    return { min: minVertices, max: maxVertices };\n\n  },\n\n  // Computes the initial simplex assigning to its faces all the points\n  // that are candidates to form part of the hull\n\n  computeInitialHull: function() {\n\n    var line3, plane, closestPoint;\n\n    return function computeInitialHull() {\n\n      if (line3 === undefined) {\n\n        line3 = new THREE.Line3();\n        plane = new THREE.Plane();\n        closestPoint = new THREE.Vector3();\n\n      }\n\n      var vertex, vertices = this.vertices;\n      var extremes = this.computeExtremes();\n      var min = extremes.min;\n      var max = extremes.max;\n\n      var v0, v1, v2, v3;\n      var i, l, j;\n\n      // 1. Find the two vertices 'v0' and 'v1' with the greatest 1d separation\n      // (max.x - min.x)\n      // (max.y - min.y)\n      // (max.z - min.z)\n\n      var distance, maxDistance = 0;\n      var index = 0;\n\n      for (i = 0; i < 3; i++) {\n\n        distance = max[i].point.getComponent(i) - min[i].point.getComponent(i);\n\n        if (distance > maxDistance) {\n\n          maxDistance = distance;\n          index = i;\n\n        }\n\n      }\n\n      v0 = min[index];\n      v1 = max[index];\n\n      // 2. The next vertex 'v2' is the one farthest to the line formed by 'v0' and 'v1'\n\n      maxDistance = 0;\n      line3.set(v0.point, v1.point);\n\n      for (i = 0, l = this.vertices.length; i < l; i++) {\n\n        vertex = vertices[i];\n\n        if (vertex !== v0 && vertex !== v1) {\n\n          line3.closestPointToPoint(vertex.point, true, closestPoint);\n\n          distance = closestPoint.distanceToSquared(vertex.point);\n\n          if (distance > maxDistance) {\n\n            maxDistance = distance;\n            v2 = vertex;\n\n          }\n\n        }\n\n      }\n\n      // 3. The next vertex 'v3' is the one farthest to the plane 'v0', 'v1', 'v2'\n\n      maxDistance = 0;\n      plane.setFromCoplanarPoints(v0.point, v1.point, v2.point);\n\n      for (i = 0, l = this.vertices.length; i < l; i++) {\n\n        vertex = vertices[i];\n\n        if (vertex !== v0 && vertex !== v1 && vertex !== v2) {\n\n          distance = Math.abs(plane.distanceToPoint(vertex.point));\n\n          if (distance > maxDistance) {\n\n            maxDistance = distance;\n            v3 = vertex;\n\n          }\n\n        }\n\n      }\n\n      var faces = [];\n\n      if (plane.distanceToPoint(v3.point) < 0) {\n\n        // the face is not able to see the point so 'plane.normal' is pointing outside the tetrahedron\n\n        faces.push(\n          Face.create(v0, v1, v2),\n          Face.create(v3, v1, v0),\n          Face.create(v3, v2, v1),\n          Face.create(v3, v0, v2)\n        );\n\n        // set the twin edge\n\n        for (i = 0; i < 3; i++) {\n\n          j = ( i + 1 ) % 3;\n\n          // join face[ i ] i > 0, with the first face\n\n          faces[i + 1].getEdge(2).setTwin(faces[0].getEdge(j));\n\n          // join face[ i ] with face[ i + 1 ], 1 <= i <= 3\n\n          faces[i + 1].getEdge(1).setTwin(faces[j + 1].getEdge(0));\n\n        }\n\n      } else {\n\n        // the face is able to see the point so 'plane.normal' is pointing inside the tetrahedron\n\n        faces.push(\n          Face.create(v0, v2, v1),\n          Face.create(v3, v0, v1),\n          Face.create(v3, v1, v2),\n          Face.create(v3, v2, v0)\n        );\n\n        // set the twin edge\n\n        for (i = 0; i < 3; i++) {\n\n          j = ( i + 1 ) % 3;\n\n          // join face[ i ] i > 0, with the first face\n\n          faces[i + 1].getEdge(2).setTwin(faces[0].getEdge(( 3 - i ) % 3));\n\n          // join face[ i ] with face[ i + 1 ]\n\n          faces[i + 1].getEdge(0).setTwin(faces[j + 1].getEdge(1));\n\n        }\n\n      }\n\n      // the initial hull is the tetrahedron\n\n      for (i = 0; i < 4; i++) {\n\n        this.faces.push(faces[i]);\n\n      }\n\n      // initial assignment of vertices to the faces of the tetrahedron\n\n      for (i = 0, l = vertices.length; i < l; i++) {\n\n        vertex = vertices[i];\n\n        if (vertex !== v0 && vertex !== v1 && vertex !== v2 && vertex !== v3) {\n\n          maxDistance = this.tolerance;\n          var maxFace = null;\n\n          for (j = 0; j < 4; j++) {\n\n            distance = this.faces[j].distanceToPoint(vertex.point);\n\n            if (distance > maxDistance) {\n\n              maxDistance = distance;\n              maxFace = this.faces[j];\n\n            }\n\n          }\n\n          if (maxFace !== null) {\n\n            this.addVertexToFace(vertex, maxFace);\n\n          }\n\n        }\n\n      }\n\n      return this;\n\n    };\n\n  }(),\n\n  // Removes inactive faces\n\n  reindexFaces: function() {\n\n    var activeFaces = [];\n\n    for (var i = 0; i < this.faces.length; i++) {\n\n      var face = this.faces[i];\n\n      if (face.mark === Visible) {\n\n        activeFaces.push(face);\n\n      }\n\n    }\n\n    this.faces = activeFaces;\n\n    return this;\n\n  },\n\n  // Finds the next vertex to create faces with the current hull\n\n  nextVertexToAdd: function() {\n\n    // if the 'assigned' list of vertices is empty, no vertices are left. return with 'undefined'\n\n    if (this.assigned.isEmpty() === false) {\n\n      var eyeVertex, maxDistance = 0;\n\n      // grap the first available face and start with the first visible vertex of that face\n\n      var eyeFace = this.assigned.first().face;\n      var vertex = eyeFace.outside;\n\n      // now calculate the farthest vertex that face can see\n\n      do {\n\n        var distance = eyeFace.distanceToPoint(vertex.point);\n\n        if (distance > maxDistance) {\n\n          maxDistance = distance;\n          eyeVertex = vertex;\n\n        }\n\n        vertex = vertex.next;\n\n      } while (vertex !== null && vertex.face === eyeFace);\n\n      return eyeVertex;\n\n    }\n\n  },\n\n  // Computes a chain of half edges in CCW order called the 'horizon'.\n  // For an edge to be part of the horizon it must join a face that can see\n  // 'eyePoint' and a face that cannot see 'eyePoint'.\n\n  computeHorizon: function(eyePoint, crossEdge, face, horizon) {\n\n    // moves face's vertices to the 'unassigned' vertex list\n\n    this.deleteFaceVertices(face);\n\n    face.mark = Deleted;\n\n    var edge;\n\n    if (crossEdge === null) {\n\n      edge = crossEdge = face.getEdge(0);\n\n    } else {\n\n      // start from the next edge since 'crossEdge' was already analyzed\n      // (actually 'crossEdge.twin' was the edge who called this method recursively)\n\n      edge = crossEdge.next;\n\n    }\n\n    do {\n\n      var twinEdge = edge.twin;\n      var oppositeFace = twinEdge.face;\n\n      if (oppositeFace.mark === Visible) {\n\n        if (oppositeFace.distanceToPoint(eyePoint) > this.tolerance) {\n\n          // the opposite face can see the vertex, so proceed with next edge\n\n          this.computeHorizon(eyePoint, twinEdge, oppositeFace, horizon);\n\n        } else {\n\n          // the opposite face can't see the vertex, so this edge is part of the horizon\n\n          horizon.push(edge);\n\n        }\n\n      }\n\n      edge = edge.next;\n\n    } while (edge !== crossEdge);\n\n    return this;\n\n  },\n\n  // Creates a face with the vertices 'eyeVertex.point', 'horizonEdge.tail' and 'horizonEdge.head' in CCW order\n\n  addAdjoiningFace: function(eyeVertex, horizonEdge) {\n\n    // all the half edges are created in ccw order thus the face is always pointing outside the hull\n\n    var face = Face.create(eyeVertex, horizonEdge.tail(), horizonEdge.head());\n\n    this.faces.push(face);\n\n    // join face.getEdge( - 1 ) with the horizon's opposite edge face.getEdge( - 1 ) = face.getEdge( 2 )\n\n    face.getEdge(-1).setTwin(horizonEdge.twin);\n\n    return face.getEdge(0); // the half edge whose vertex is the eyeVertex\n\n\n  },\n\n  //  Adds 'horizon.length' faces to the hull, each face will be linked with the\n  //  horizon opposite face and the face on the left/right\n\n  addNewFaces: function(eyeVertex, horizon) {\n\n    this.newFaces = [];\n\n    var firstSideEdge = null;\n    var previousSideEdge = null;\n\n    for (var i = 0; i < horizon.length; i++) {\n\n      var horizonEdge = horizon[i];\n\n      // returns the right side edge\n\n      var sideEdge = this.addAdjoiningFace(eyeVertex, horizonEdge);\n\n      if (firstSideEdge === null) {\n\n        firstSideEdge = sideEdge;\n\n      } else {\n\n        // joins face.getEdge( 1 ) with previousFace.getEdge( 0 )\n\n        sideEdge.next.setTwin(previousSideEdge);\n\n      }\n\n      this.newFaces.push(sideEdge.face);\n      previousSideEdge = sideEdge;\n\n    }\n\n    // perform final join of new faces\n\n    firstSideEdge.next.setTwin(previousSideEdge);\n\n    return this;\n\n  },\n\n  // Adds a vertex to the hull\n\n  addVertexToHull: function(eyeVertex) {\n\n    var horizon = [];\n    var i, face;\n\n    this.unassigned.clear();\n\n    // remove 'eyeVertex' from 'eyeVertex.face' so that it can't be added to the 'unassigned' vertex list\n\n    this.removeVertexFromFace(eyeVertex, eyeVertex.face);\n\n    this.computeHorizon(eyeVertex.point, null, eyeVertex.face, horizon);\n\n    this.addNewFaces(eyeVertex, horizon);\n\n    // reassign 'unassigned' vertices to the new faces\n\n    this.resolveUnassignedPoints(this.newFaces);\n\n    return this;\n\n  },\n\n  cleanup: function() {\n\n    this.assigned.clear();\n    this.unassigned.clear();\n    this.newFaces = [];\n\n    return this;\n\n  },\n\n  compute: function() {\n\n    var vertex;\n\n    this.computeInitialHull();\n\n    // add all available vertices gradually to the hull\n\n    while (( vertex = this.nextVertexToAdd() ) !== undefined) {\n\n      this.addVertexToHull(vertex);\n\n    }\n\n    this.reindexFaces();\n\n    this.cleanup();\n\n    return this;\n\n  }\n\n});\n\n//\n\nfunction Face() {\n\n  this.normal = new THREE.Vector3();\n  this.midpoint = new THREE.Vector3();\n  this.area = 0;\n\n  this.constant = 0; // signed distance from face to the origin\n  this.outside = null; // reference to a vertex in a vertex list this face can see\n  this.mark = Visible;\n  this.edge = null;\n\n}\n\nObject.assign(Face, {\n\n  create: function(a, b, c) {\n\n    var face = new Face();\n\n    var e0 = new HalfEdge(a, face);\n    var e1 = new HalfEdge(b, face);\n    var e2 = new HalfEdge(c, face);\n\n    // join edges\n\n    e0.next = e2.prev = e1;\n    e1.next = e0.prev = e2;\n    e2.next = e1.prev = e0;\n\n    // main half edge reference\n\n    face.edge = e0;\n\n    return face.compute();\n\n  }\n\n});\n\nObject.assign(Face.prototype, {\n\n  getEdge: function(i) {\n\n    var edge = this.edge;\n\n    while (i > 0) {\n\n      edge = edge.next;\n      i--;\n\n    }\n\n    while (i < 0) {\n\n      edge = edge.prev;\n      i++;\n\n    }\n\n    return edge;\n\n  },\n\n  compute: function() {\n\n    var triangle;\n\n    return function compute() {\n\n      if (triangle === undefined) triangle = new THREE.Triangle();\n\n      var a = this.edge.tail();\n      var b = this.edge.head();\n      var c = this.edge.next.head();\n\n      triangle.set(a.point, b.point, c.point);\n\n      triangle.normal(this.normal);\n      triangle.midpoint(this.midpoint);\n      this.area = triangle.area();\n\n      this.constant = this.normal.dot(this.midpoint);\n\n      return this;\n\n    };\n\n  }(),\n\n  distanceToPoint: function(point) {\n\n    return this.normal.dot(point) - this.constant;\n\n  }\n\n});\n\n// Entity for a Doubly-Connected Edge List (DCEL).\n\nfunction HalfEdge(vertex, face) {\n\n  this.vertex = vertex;\n  this.prev = null;\n  this.next = null;\n  this.twin = null;\n  this.face = face;\n\n}\n\nObject.assign(HalfEdge.prototype, {\n\n  head: function() {\n\n    return this.vertex;\n\n  },\n\n  tail: function() {\n\n    return this.prev ? this.prev.vertex : null;\n\n  },\n\n  length: function() {\n\n    var head = this.head();\n    var tail = this.tail();\n\n    if (tail !== null) {\n\n      return tail.point.distanceTo(head.point);\n\n    }\n\n    return -1;\n\n  },\n\n  lengthSquared: function() {\n\n    var head = this.head();\n    var tail = this.tail();\n\n    if (tail !== null) {\n\n      return tail.point.distanceToSquared(head.point);\n\n    }\n\n    return -1;\n\n  },\n\n  setTwin: function(edge) {\n\n    this.twin = edge;\n    edge.twin = this;\n\n    return this;\n\n  }\n\n});\n\n// A vertex as a double linked list node.\n\nfunction VertexNode(point) {\n\n  this.point = point;\n  this.prev = null;\n  this.next = null;\n  this.face = null; // the face that is able to see this vertex\n\n}\n\n// A double linked list that contains vertex nodes.\n\nfunction VertexList() {\n\n  this.head = null;\n  this.tail = null;\n\n}\n\nObject.assign(VertexList.prototype, {\n\n  first: function() {\n\n    return this.head;\n\n  },\n\n  last: function() {\n\n    return this.tail;\n\n  },\n\n  clear: function() {\n\n    this.head = this.tail = null;\n\n    return this;\n\n  },\n\n  // Inserts a vertex before the target vertex\n\n  insertBefore: function(target, vertex) {\n\n    vertex.prev = target.prev;\n    vertex.next = target;\n\n    if (vertex.prev === null) {\n\n      this.head = vertex;\n\n    } else {\n\n      vertex.prev.next = vertex;\n\n    }\n\n    target.prev = vertex;\n\n    return this;\n\n  },\n\n  // Inserts a vertex after the target vertex\n\n  insertAfter: function(target, vertex) {\n\n    vertex.prev = target;\n    vertex.next = target.next;\n\n    if (vertex.next === null) {\n\n      this.tail = vertex;\n\n    } else {\n\n      vertex.next.prev = vertex;\n\n    }\n\n    target.next = vertex;\n\n    return this;\n\n  },\n\n  // Appends a vertex to the end of the linked list\n\n  append: function(vertex) {\n\n    if (this.head === null) {\n\n      this.head = vertex;\n\n    } else {\n\n      this.tail.next = vertex;\n\n    }\n\n    vertex.prev = this.tail;\n    vertex.next = null; // the tail has no subsequent vertex\n\n    this.tail = vertex;\n\n    return this;\n\n  },\n\n  // Appends a chain of vertices where 'vertex' is the head.\n\n  appendChain: function(vertex) {\n\n    if (this.head === null) {\n\n      this.head = vertex;\n\n    } else {\n\n      this.tail.next = vertex;\n\n    }\n\n    vertex.prev = this.tail;\n\n    // ensure that the 'tail' reference points to the last vertex of the chain\n\n    while (vertex.next !== null) {\n\n      vertex = vertex.next;\n\n    }\n\n    this.tail = vertex;\n\n    return this;\n\n  },\n\n  // Removes a vertex from the linked list\n\n  remove: function(vertex) {\n\n    if (vertex.prev === null) {\n\n      this.head = vertex.next;\n\n    } else {\n\n      vertex.prev.next = vertex.next;\n\n    }\n\n    if (vertex.next === null) {\n\n      this.tail = vertex.prev;\n\n    } else {\n\n      vertex.next.prev = vertex.prev;\n\n    }\n\n    return this;\n\n  },\n\n  // Removes a list of vertices whose 'head' is 'a' and whose 'tail' is b\n\n  removeSubList: function(a, b) {\n\n    if (a.prev === null) {\n\n      this.head = b.next;\n\n    } else {\n\n      a.prev.next = b.next;\n\n    }\n\n    if (b.next === null) {\n\n      this.tail = a.prev;\n\n    } else {\n\n      b.next.prev = a.prev;\n\n    }\n\n    return this;\n\n  },\n\n  isEmpty: function() {\n\n    return this.head === null;\n\n  }\n\n});\n\n// export\n\n// THREE.QuickHull = QuickHull;\nexport default QuickHull;\n\n\n// WEBPACK FOOTER //\n// ./src/lib/QuickHull.js","/* eslint-disable */\r\n/**\r\n * @author Eberhard Graether / http://egraether.com/\r\n * @author Mark Lundin \t/ http://mark-lundin.com\r\n * @author Simone Manini / http://daron1337.github.io\r\n * @author Luca Antiga \t/ http://lantiga.github.io\r\n */\r\nconst THREE = window.THREE || require('three');\r\nvar TrackballControls = function ( object, domElement ) {\r\n\r\n\tvar _this = this;\r\n\tvar STATE = { NONE: - 1, ROTATE: 0, ZOOM: 1, PAN: 2, TOUCH_ROTATE: 3, TOUCH_ZOOM_PAN: 4 };\r\n\r\n\tthis.object = object;\r\n\tthis.domElement = ( domElement !== undefined ) ? domElement : document;\r\n\r\n\t// API\r\n\r\n\tthis.enabled = true;\r\n\r\n\tthis.screen = { left: 0, top: 0, width: 0, height: 0 };\r\n\r\n\tthis.rotateSpeed = 1.0;\r\n\tthis.zoomSpeed = 1.2;\r\n\tthis.panSpeed = 0.3;\r\n\r\n\tthis.noRotate = false;\r\n\tthis.noZoom = false;\r\n\tthis.noPan = false;\r\n\r\n\tthis.staticMoving = false;\r\n\tthis.dynamicDampingFactor = 0.2;\r\n\r\n\tthis.minDistance = 0;\r\n\tthis.maxDistance = Infinity;\r\n\r\n\tthis.keys = [ 65 /*A*/, 83 /*S*/, 68 /*D*/ ];\r\n\r\n\t// internals\r\n\r\n\tthis.target = new THREE.Vector3();\r\n\r\n\tvar EPS = 0.000001;\r\n\r\n\tvar lastPosition = new THREE.Vector3();\r\n\r\n\tvar _state = STATE.NONE,\r\n\t_prevState = STATE.NONE,\r\n\r\n\t_eye = new THREE.Vector3(),\r\n\r\n\t_movePrev = new THREE.Vector2(),\r\n\t_moveCurr = new THREE.Vector2(),\r\n\r\n\t_lastAxis = new THREE.Vector3(),\r\n\t_lastAngle = 0,\r\n\r\n\t_zoomStart = new THREE.Vector2(),\r\n\t_zoomEnd = new THREE.Vector2(),\r\n\r\n\t_touchZoomDistanceStart = 0,\r\n\t_touchZoomDistanceEnd = 0,\r\n\r\n\t_panStart = new THREE.Vector2(),\r\n\t_panEnd = new THREE.Vector2();\r\n\r\n\t// for reset\r\n\r\n\tthis.target0 = this.target.clone();\r\n\tthis.position0 = this.object.position.clone();\r\n\tthis.up0 = this.object.up.clone();\r\n\r\n\t// events\r\n\r\n\tvar changeEvent = { type: 'change' };\r\n\tvar startEvent = { type: 'start' };\r\n\tvar endEvent = { type: 'end' };\r\n\r\n\r\n\t// methods\r\n\r\n\tthis.handleResize = function () {\r\n\r\n\t\tif ( this.domElement === document ) {\r\n\r\n\t\t\tthis.screen.left = 0;\r\n\t\t\tthis.screen.top = 0;\r\n\t\t\tthis.screen.width = window.innerWidth;\r\n\t\t\tthis.screen.height = window.innerHeight;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tvar box = this.domElement.getBoundingClientRect();\r\n\t\t\t// adjustments come from similar code in the jquery offset() function\r\n\t\t\tvar d = this.domElement.ownerDocument.documentElement;\r\n\t\t\tthis.screen.left = box.left + window.pageXOffset - d.clientLeft;\r\n\t\t\tthis.screen.top = box.top + window.pageYOffset - d.clientTop;\r\n\t\t\tthis.screen.width = box.width;\r\n\t\t\tthis.screen.height = box.height;\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.handleEvent = function ( event ) {\r\n\r\n\t\tif ( typeof this[ event.type ] == 'function' ) {\r\n\r\n\t\t\tthis[ event.type ]( event );\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tvar getMouseOnScreen = ( function () {\r\n\r\n\t\tvar vector = new THREE.Vector2();\r\n\r\n\t\treturn function getMouseOnScreen( pageX, pageY ) {\r\n\r\n\t\t\tvector.set(\r\n\t\t\t\t( pageX - _this.screen.left ) / _this.screen.width,\r\n\t\t\t\t( pageY - _this.screen.top ) / _this.screen.height\r\n\t\t\t);\r\n\r\n\t\t\treturn vector;\r\n\r\n\t\t};\r\n\r\n\t}() );\r\n\r\n\tvar getMouseOnCircle = ( function () {\r\n\r\n\t\tvar vector = new THREE.Vector2();\r\n\r\n\t\treturn function getMouseOnCircle( pageX, pageY ) {\r\n\r\n\t\t\tvector.set(\r\n\t\t\t\t( ( pageX - _this.screen.width * 0.5 - _this.screen.left ) / ( _this.screen.width * 0.5 ) ),\r\n\t\t\t\t( ( _this.screen.height + 2 * ( _this.screen.top - pageY ) ) / _this.screen.width ) // screen.width intentional\r\n\t\t\t);\r\n\r\n\t\t\treturn vector;\r\n\r\n\t\t};\r\n\r\n\t}() );\r\n\r\n\tthis.rotateCamera = ( function() {\r\n\r\n\t\tvar axis = new THREE.Vector3(),\r\n\t\t\tquaternion = new THREE.Quaternion(),\r\n\t\t\teyeDirection = new THREE.Vector3(),\r\n\t\t\tobjectUpDirection = new THREE.Vector3(),\r\n\t\t\tobjectSidewaysDirection = new THREE.Vector3(),\r\n\t\t\tmoveDirection = new THREE.Vector3(),\r\n\t\t\tangle;\r\n\r\n\t\treturn function rotateCamera() {\r\n\r\n\t\t\tmoveDirection.set( _moveCurr.x - _movePrev.x, _moveCurr.y - _movePrev.y, 0 );\r\n\t\t\tangle = moveDirection.length();\r\n\r\n\t\t\tif ( angle ) {\r\n\r\n\t\t\t\t_eye.copy( _this.object.position ).sub( _this.target );\r\n\r\n\t\t\t\teyeDirection.copy( _eye ).normalize();\r\n\t\t\t\tobjectUpDirection.copy( _this.object.up ).normalize();\r\n\t\t\t\tobjectSidewaysDirection.crossVectors( objectUpDirection, eyeDirection ).normalize();\r\n\r\n\t\t\t\tobjectUpDirection.setLength( _moveCurr.y - _movePrev.y );\r\n\t\t\t\tobjectSidewaysDirection.setLength( _moveCurr.x - _movePrev.x );\r\n\r\n\t\t\t\tmoveDirection.copy( objectUpDirection.add( objectSidewaysDirection ) );\r\n\r\n\t\t\t\taxis.crossVectors( moveDirection, _eye ).normalize();\r\n\r\n\t\t\t\tangle *= _this.rotateSpeed;\r\n\t\t\t\tquaternion.setFromAxisAngle( axis, angle );\r\n\r\n\t\t\t\t_eye.applyQuaternion( quaternion );\r\n\t\t\t\t_this.object.up.applyQuaternion( quaternion );\r\n\r\n\t\t\t\t_lastAxis.copy( axis );\r\n\t\t\t\t_lastAngle = angle;\r\n\r\n\t\t\t} else if ( ! _this.staticMoving && _lastAngle ) {\r\n\r\n\t\t\t\t_lastAngle *= Math.sqrt( 1.0 - _this.dynamicDampingFactor );\r\n\t\t\t\t_eye.copy( _this.object.position ).sub( _this.target );\r\n\t\t\t\tquaternion.setFromAxisAngle( _lastAxis, _lastAngle );\r\n\t\t\t\t_eye.applyQuaternion( quaternion );\r\n\t\t\t\t_this.object.up.applyQuaternion( quaternion );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t_movePrev.copy( _moveCurr );\r\n\r\n\t\t};\r\n\r\n\t}() );\r\n\r\n\r\n\tthis.zoomCamera = function () {\r\n\r\n\t\tvar factor;\r\n\r\n\t\tif ( _state === STATE.TOUCH_ZOOM_PAN ) {\r\n\r\n\t\t\tfactor = _touchZoomDistanceStart / _touchZoomDistanceEnd;\r\n\t\t\t_touchZoomDistanceStart = _touchZoomDistanceEnd;\r\n\t\t\t_eye.multiplyScalar( factor );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tfactor = 1.0 + ( _zoomEnd.y - _zoomStart.y ) * _this.zoomSpeed;\r\n\r\n\t\t\tif ( factor !== 1.0 && factor > 0.0 ) {\r\n\r\n\t\t\t\t_eye.multiplyScalar( factor );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( _this.staticMoving ) {\r\n\r\n\t\t\t\t_zoomStart.copy( _zoomEnd );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t_zoomStart.y += ( _zoomEnd.y - _zoomStart.y ) * this.dynamicDampingFactor;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.panCamera = ( function() {\r\n\r\n\t\tvar mouseChange = new THREE.Vector2(),\r\n\t\t\tobjectUp = new THREE.Vector3(),\r\n\t\t\tpan = new THREE.Vector3();\r\n\r\n\t\treturn function panCamera() {\r\n\r\n\t\t\tmouseChange.copy( _panEnd ).sub( _panStart );\r\n\r\n\t\t\tif ( mouseChange.lengthSq() ) {\r\n\r\n\t\t\t\tmouseChange.multiplyScalar( _eye.length() * _this.panSpeed );\r\n\r\n\t\t\t\tpan.copy( _eye ).cross( _this.object.up ).setLength( mouseChange.x );\r\n\t\t\t\tpan.add( objectUp.copy( _this.object.up ).setLength( mouseChange.y ) );\r\n\r\n\t\t\t\t_this.object.position.add( pan );\r\n\t\t\t\t_this.target.add( pan );\r\n\r\n\t\t\t\tif ( _this.staticMoving ) {\r\n\r\n\t\t\t\t\t_panStart.copy( _panEnd );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t_panStart.add( mouseChange.subVectors( _panEnd, _panStart ).multiplyScalar( _this.dynamicDampingFactor ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t}() );\r\n\r\n\tthis.checkDistances = function () {\r\n\r\n\t\tif ( ! _this.noZoom || ! _this.noPan ) {\r\n\r\n\t\t\tif ( _eye.lengthSq() > _this.maxDistance * _this.maxDistance ) {\r\n\r\n\t\t\t\t_this.object.position.addVectors( _this.target, _eye.setLength( _this.maxDistance ) );\r\n\t\t\t\t_zoomStart.copy( _zoomEnd );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( _eye.lengthSq() < _this.minDistance * _this.minDistance ) {\r\n\r\n\t\t\t\t_this.object.position.addVectors( _this.target, _eye.setLength( _this.minDistance ) );\r\n\t\t\t\t_zoomStart.copy( _zoomEnd );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.update = function () {\r\n\r\n\t\t_eye.subVectors( _this.object.position, _this.target );\r\n\r\n\t\tif ( ! _this.noRotate ) {\r\n\r\n\t\t\t_this.rotateCamera();\r\n\r\n\t\t}\r\n\r\n\t\tif ( ! _this.noZoom ) {\r\n\r\n\t\t\t_this.zoomCamera();\r\n\r\n\t\t}\r\n\r\n\t\tif ( ! _this.noPan ) {\r\n\r\n\t\t\t_this.panCamera();\r\n\r\n\t\t}\r\n\r\n\t\t_this.object.position.addVectors( _this.target, _eye );\r\n\r\n\t\t_this.checkDistances();\r\n\r\n\t\t_this.object.lookAt( _this.target );\r\n\r\n\t\tif ( lastPosition.distanceToSquared( _this.object.position ) > EPS ) {\r\n\r\n\t\t\t_this.dispatchEvent( changeEvent );\r\n\r\n\t\t\tlastPosition.copy( _this.object.position );\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.reset = function () {\r\n\r\n\t\t_state = STATE.NONE;\r\n\t\t_prevState = STATE.NONE;\r\n\r\n\t\t_this.target.copy( _this.target0 );\r\n\t\t_this.object.position.copy( _this.position0 );\r\n\t\t_this.object.up.copy( _this.up0 );\r\n\r\n\t\t_eye.subVectors( _this.object.position, _this.target );\r\n\r\n\t\t_this.object.lookAt( _this.target );\r\n\r\n\t\t_this.dispatchEvent( changeEvent );\r\n\r\n\t\tlastPosition.copy( _this.object.position );\r\n\r\n\t};\r\n\r\n\t// listeners\r\n\r\n\tfunction keydown( event ) {\r\n\r\n\t\tif ( _this.enabled === false ) return;\r\n\r\n\t\twindow.removeEventListener( 'keydown', keydown );\r\n\r\n\t\t_prevState = _state;\r\n\r\n\t\tif ( _state !== STATE.NONE ) {\r\n\r\n\t\t\treturn;\r\n\r\n\t\t} else if ( event.keyCode === _this.keys[ STATE.ROTATE ] && ! _this.noRotate ) {\r\n\r\n\t\t\t_state = STATE.ROTATE;\r\n\r\n\t\t} else if ( event.keyCode === _this.keys[ STATE.ZOOM ] && ! _this.noZoom ) {\r\n\r\n\t\t\t_state = STATE.ZOOM;\r\n\r\n\t\t} else if ( event.keyCode === _this.keys[ STATE.PAN ] && ! _this.noPan ) {\r\n\r\n\t\t\t_state = STATE.PAN;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction keyup( event ) {\r\n\r\n\t\tif ( _this.enabled === false ) return;\r\n\r\n\t\t_state = _prevState;\r\n\r\n\t\twindow.addEventListener( 'keydown', keydown, false );\r\n\r\n\t}\r\n\r\n\tfunction mousedown( event ) {\r\n\r\n\t\tif ( _this.enabled === false ) return;\r\n\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\r\n\t\tif ( _state === STATE.NONE ) {\r\n\r\n\t\t\t_state = event.button;\r\n\r\n\t\t}\r\n\r\n\t\tif ( _state === STATE.ROTATE && ! _this.noRotate ) {\r\n\r\n\t\t\t_moveCurr.copy( getMouseOnCircle( event.pageX, event.pageY ) );\r\n\t\t\t_movePrev.copy( _moveCurr );\r\n\r\n\t\t} else if ( _state === STATE.ZOOM && ! _this.noZoom ) {\r\n\r\n\t\t\t_zoomStart.copy( getMouseOnScreen( event.pageX, event.pageY ) );\r\n\t\t\t_zoomEnd.copy( _zoomStart );\r\n\r\n\t\t} else if ( _state === STATE.PAN && ! _this.noPan ) {\r\n\r\n\t\t\t_panStart.copy( getMouseOnScreen( event.pageX, event.pageY ) );\r\n\t\t\t_panEnd.copy( _panStart );\r\n\r\n\t\t}\r\n\r\n\t\tdocument.addEventListener( 'mousemove', mousemove, false );\r\n\t\tdocument.addEventListener( 'mouseup', mouseup, false );\r\n\r\n\t\t_this.dispatchEvent( startEvent );\r\n\r\n\t}\r\n\r\n\tfunction mousemove( event ) {\r\n\r\n\t\tif ( _this.enabled === false ) return;\r\n\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\r\n\t\tif ( _state === STATE.ROTATE && ! _this.noRotate ) {\r\n\r\n\t\t\t_movePrev.copy( _moveCurr );\r\n\t\t\t_moveCurr.copy( getMouseOnCircle( event.pageX, event.pageY ) );\r\n\r\n\t\t} else if ( _state === STATE.ZOOM && ! _this.noZoom ) {\r\n\r\n\t\t\t_zoomEnd.copy( getMouseOnScreen( event.pageX, event.pageY ) );\r\n\r\n\t\t} else if ( _state === STATE.PAN && ! _this.noPan ) {\r\n\r\n\t\t\t_panEnd.copy( getMouseOnScreen( event.pageX, event.pageY ) );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction mouseup( event ) {\r\n\r\n\t\tif ( _this.enabled === false ) return;\r\n\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\r\n\t\t_state = STATE.NONE;\r\n\r\n\t\tdocument.removeEventListener( 'mousemove', mousemove );\r\n\t\tdocument.removeEventListener( 'mouseup', mouseup );\r\n\t\t_this.dispatchEvent( endEvent );\r\n\r\n\t}\r\n\r\n\tfunction mousewheel( event ) {\r\n\r\n\t\tif ( _this.enabled === false ) return;\r\n\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\r\n\t\tswitch ( event.deltaMode ) {\r\n\r\n                        case 2:\r\n                                // Zoom in pages\r\n                                _zoomStart.y -= event.deltaY * 0.025;\r\n                                break;\r\n\r\n\t\t\tcase 1:\r\n                                // Zoom in lines\r\n\t\t\t\t_zoomStart.y -= event.deltaY * 0.01;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\t\t// undefined, 0, assume pixels\r\n\t\t\t\t_zoomStart.y -= event.deltaY * 0.00025;\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\t_this.dispatchEvent( startEvent );\r\n\t\t_this.dispatchEvent( endEvent );\r\n\r\n\t}\r\n\r\n\tfunction touchstart( event ) {\r\n\r\n\t\tif ( _this.enabled === false ) return;\r\n\r\n\t\tswitch ( event.touches.length ) {\r\n\r\n\t\t\tcase 1:\r\n\t\t\t\t_state = STATE.TOUCH_ROTATE;\r\n\t\t\t\t_moveCurr.copy( getMouseOnCircle( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY ) );\r\n\t\t\t\t_movePrev.copy( _moveCurr );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault: // 2 or more\r\n\t\t\t\t_state = STATE.TOUCH_ZOOM_PAN;\r\n\t\t\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\r\n\t\t\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\r\n\t\t\t\t_touchZoomDistanceEnd = _touchZoomDistanceStart = Math.sqrt( dx * dx + dy * dy );\r\n\r\n\t\t\t\tvar x = ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX ) / 2;\r\n\t\t\t\tvar y = ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY ) / 2;\r\n\t\t\t\t_panStart.copy( getMouseOnScreen( x, y ) );\r\n\t\t\t\t_panEnd.copy( _panStart );\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\t_this.dispatchEvent( startEvent );\r\n\r\n\t}\r\n\r\n\tfunction touchmove( event ) {\r\n\r\n\t\tif ( _this.enabled === false ) return;\r\n\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\r\n\t\tswitch ( event.touches.length ) {\r\n\r\n\t\t\tcase 1:\r\n\t\t\t\t_movePrev.copy( _moveCurr );\r\n\t\t\t\t_moveCurr.copy( getMouseOnCircle( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY ) );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault: // 2 or more\r\n\t\t\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\r\n\t\t\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\r\n\t\t\t\t_touchZoomDistanceEnd = Math.sqrt( dx * dx + dy * dy );\r\n\r\n\t\t\t\tvar x = ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX ) / 2;\r\n\t\t\t\tvar y = ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY ) / 2;\r\n\t\t\t\t_panEnd.copy( getMouseOnScreen( x, y ) );\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction touchend( event ) {\r\n\r\n\t\tif ( _this.enabled === false ) return;\r\n\r\n\t\tswitch ( event.touches.length ) {\r\n\r\n\t\t\tcase 0:\r\n\t\t\t\t_state = STATE.NONE;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 1:\r\n\t\t\t\t_state = STATE.TOUCH_ROTATE;\r\n\t\t\t\t_moveCurr.copy( getMouseOnCircle( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY ) );\r\n\t\t\t\t_movePrev.copy( _moveCurr );\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\t_this.dispatchEvent( endEvent );\r\n\r\n\t}\r\n\r\n\tfunction contextmenu( event ) {\r\n\r\n\t\tevent.preventDefault();\r\n\r\n\t}\r\n\r\n\tthis.dispose = function() {\r\n\r\n\t\tthis.domElement.removeEventListener( 'contextmenu', contextmenu, false );\r\n\t\tthis.domElement.removeEventListener( 'mousedown', mousedown, false );\r\n\t\tthis.domElement.removeEventListener( 'wheel', mousewheel, false );\r\n\r\n\t\tthis.domElement.removeEventListener( 'touchstart', touchstart, false );\r\n\t\tthis.domElement.removeEventListener( 'touchend', touchend, false );\r\n\t\tthis.domElement.removeEventListener( 'touchmove', touchmove, false );\r\n\r\n\t\tdocument.removeEventListener( 'mousemove', mousemove, false );\r\n\t\tdocument.removeEventListener( 'mouseup', mouseup, false );\r\n\r\n\t\twindow.removeEventListener( 'keydown', keydown, false );\r\n\t\twindow.removeEventListener( 'keyup', keyup, false );\r\n\r\n\t};\r\n\r\n\tthis.domElement.addEventListener( 'contextmenu', contextmenu, false );\r\n\tthis.domElement.addEventListener( 'mousedown', mousedown, false );\r\n\tthis.domElement.addEventListener( 'wheel', mousewheel, false );\r\n\r\n\tthis.domElement.addEventListener( 'touchstart', touchstart, false );\r\n\tthis.domElement.addEventListener( 'touchend', touchend, false );\r\n\tthis.domElement.addEventListener( 'touchmove', touchmove, false );\r\n\r\n\twindow.addEventListener( 'keydown', keydown, false );\r\n\twindow.addEventListener( 'keyup', keyup, false );\r\n\r\n\tthis.handleResize();\r\n\r\n\t// force an update at start\r\n\tthis.update();\r\n\r\n};\r\n\r\nTrackballControls.prototype = Object.create( THREE.EventDispatcher.prototype );\r\nTrackballControls.prototype.constructor = THREE.TrackballControls;\r\n\r\nexport default TrackballControls;\r\n\r\n/*eslint-enable */\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/TrackballControls.js","// The Vue build version to load with the `import` command\r\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\r\nimport Vue from 'vue';\r\nimport App from './App';\r\nimport router from './router';\r\n\r\nVue.config.productionTip = false;\r\n\r\n/* eslint-disable no-new */\r\nnew Vue({\r\n  el: '#app',\r\n  router,\r\n  template: '<App/>',\r\n  components: { App },\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","<template>\r\n  <div id=\"app\">\r\n    <Scene></Scene>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import Scene from './components/Scene';\r\n\r\n  export default {\r\n    name: 'app',\r\n    components: { Scene },\r\n  };\r\n</script>\r\n\r\n<style>\r\n  html, body {\r\n    background: #4c4b4b;\r\n    height: 100vh;\r\n    margin: 0;\r\n    overflow: hidden;\r\n  }\r\n\r\n  #app {\r\n    font-family: 'Avenir', Helvetica, Arial, sans-serif;\r\n    -webkit-font-smoothing: antialiased;\r\n    -moz-osx-font-smoothing: grayscale;\r\n    text-align: center;\r\n    color: #2c3e50;\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// App.vue?0c14c3f1","<template>\r\n  <div class=\"Scene\" ref=\"scene\"><p>hello world!</p></div>\r\n</template>\r\n\r\n<script>\r\n  /* eslint-disable */\r\n  import * as THREE from 'three';\r\n  import TrackballControls from '../lib/TrackballControls';\r\n  import ConvexGeometry from '../lib/ConvexGeometry';\r\n\r\n  import coords from 'coordinate-systems';\r\n  import moment from 'moment';\r\n  import suncalc from 'suncalc';\r\n\r\n  const scene = new THREE.Scene();\r\n  const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 1, 10000);\r\n  camera.position.set(-8, 32, 36);\r\n  camera.lookAt(scene.position);\r\n  //camera.up = new THREE.Vector3( 0, 0, 1 );\r\n\r\n  const controls = new TrackballControls(camera);\r\n  controls.rotateSpeed = 5.0;\r\n  controls.zoomSpeed = 3.2;\r\n  controls.panSpeed = 0.8;\r\n  controls.noZoom = false;\r\n  controls.noPan = false;\r\n  controls.staticMoving = false;\r\n  controls.dynamicDampingFactor = 0.2;\r\n\r\n  /**\r\n   * ---------------------------------\r\n   * Geometry\r\n   * ---------------------------------\r\n   */\r\n\r\n  const RADIUS = 35;\r\n  const geometry = new THREE.BoxGeometry(15, 15, 5);\r\n  const material = new THREE.MeshStandardMaterial({ color: 0xCC0000 });\r\n  const box = new THREE.Mesh(geometry, material);\r\n  box.position.y = 7.5;\r\n  box.rotation.y = deg2rad(-103.09);\r\n  box.castShadow = true;\r\n  scene.add(box);\r\n\r\n  // circle\r\n  const circleGeometry = new THREE.CircleGeometry(RADIUS, 64);\r\n  const circleMaterial = new THREE.MeshStandardMaterial({ color: 0x3498db, transparent: true, opacity: 1 });\r\n  circleMaterial.side = THREE.DoubleSide;\r\n\r\n  const circle = new THREE.Mesh(circleGeometry, circleMaterial);\r\n  circle.rotation.x = deg2rad(90);\r\n  circle.receiveShadow = true;\r\n  scene.add(circle);\r\n\r\n\r\n  var light = new THREE.DirectionalLight(0xffffff, 1, 100);\r\n  light.position.set(15, 25, 0); \t\t\t//default; light shining from top\r\n  light.target.position.set(0, 0, 0);\r\n\r\n  light.castShadow = true;            // default false\r\n\r\n  var targetObject = new THREE.Object3D();\r\n  scene.add(targetObject);\r\n  light.target = targetObject;\r\n  light.shadowMapWidth = 2048;\r\n  light.shadowMapHeight = 2048;\r\n  light.shadowCameraLeft = -50;\r\n  light.shadowCameraBottom = -50;\r\n  light.shadowCameraRight = 50;\r\n  light.shadowCameraTop = 50;\r\n  scene.add(light);\r\n\r\n  //Set up shadow properties for the light\r\n  //  light.shadow.mapSize.width = 1024;  // default\r\n  //  light.shadow.mapSize.height = 1024; // default\r\n  //  light.shadow.camera.far = 500;     // default\r\n\r\n  const lightHelper = new THREE.DirectionalLightHelper(light, 5);\r\n  //scene.add(lightHelper);\r\n\r\n  var helper = new THREE.CameraHelper(light.shadow.camera);\r\n  //scene.add(helper);\r\n\r\n  // sphere\r\n  /*const sphereGeometry = new THREE.SphereGeometry(15, 32, 32);\r\n   const sphereMaterial = new THREE.MeshBasicMaterial({ color: 0xf1c40f, transparent: true, opacity: 0.2 });\r\n   const sphere = new THREE.Mesh(sphereGeometry, sphereMaterial);\r\n   scene.add(sphere);*/\r\n\r\n  // line\r\n  const LAT = 51.096474713;\r\n  const LNG = 17.034752369;\r\n\r\n  //  scene.add(getSunPath(new Date(), LAT, LNG, 0x00ff00));\r\n  scene.add(getSunPath(new Date(2017, 5, 21), RADIUS, LAT, LNG, 0xf1c40f)); // summer solistice\r\n  scene.add(getSunPath(new Date(2017, 5, 1), RADIUS, LAT, LNG, 0x00ff00));\r\n  scene.add(getSunPath(new Date(2017, 11, 21), RADIUS, LAT, LNG, 0xf39c12)); // winter solistice\r\n\r\n  const sunMeshVertices = [\r\n    ...(getSunPath(new Date(2017, 5, 21), RADIUS, LAT, LNG, 0xf1c40f, true).vertices),\r\n    ...(getSunPath(new Date(2017, 6, 21), RADIUS, LAT, LNG, 0xf1c40f, true).vertices),\r\n    ...(getSunPath(new Date(2017, 7, 21), RADIUS, LAT, LNG, 0xf1c40f, true).vertices),\r\n    ...(getSunPath(new Date(2017, 8, 21), RADIUS, LAT, LNG, 0xf1c40f, true).vertices),\r\n    ...(getSunPath(new Date(2017, 9, 21), RADIUS, LAT, LNG, 0xf1c40f, true).vertices),\r\n    ...(getSunPath(new Date(2017, 10, 21), RADIUS, LAT, LNG, 0xf1c40f, true).vertices),\r\n    ...(getSunPath(new Date(2017, 11, 21), RADIUS, LAT, LNG, 0xf1c40f, true).vertices),\r\n  ];\r\n\r\n  const sunMaterial = new THREE.MeshBasicMaterial({ color: 0xf1c40f, transparent: true, opacity: 0.25 });\r\n  sunMaterial.side = THREE.DoubleSide;\r\n\r\n  const sunMinMax = {\r\n    min: new Date(2017, 5, 21).valueOf(),\r\n    max: new Date(2017, 11, 21).valueOf()\r\n  };\r\n\r\n  const sunGeo = new THREE.ParametricGeometry((u, v) => {\r\n    const d = sunMinMax.min + u * (sunMinMax.max - sunMinMax.min);\r\n    const times = suncalc.getTimes(d, LAT, LNG);\r\n    const t = times.sunrise.valueOf() + v * (times.sunset.valueOf() - times.sunrise.valueOf());\r\n\r\n    const pos = suncalc.getPosition(t, LAT, LNG);\r\n    return getXYZbyRotation(RADIUS, pos.azimuth + Math.PI, pos.altitude);\r\n  }, 25, 25);\r\n  const sunMesh = new THREE.Mesh(sunGeo, sunMaterial);\r\n\r\n\r\n  const sphereGeometry = new THREE.SphereGeometry(1, 8, 8);\r\n  const sphereMaterial = new THREE.MeshBasicMaterial({ color: 0xff0000, transparent: true, opacity: 1 });\r\n  const sphere = new THREE.Mesh(sphereGeometry, sphereMaterial);\r\n\r\n\r\n  scene.add(sphere);\r\n  scene.add(sunMesh);\r\n\r\n  let time = Date.now();\r\n  const currentSunPosition = suncalc.getPosition(new Date(time), LAT, LNG);\r\n  const currentSunPositionXYZ = getXYZbyRotation(RADIUS, currentSunPosition.azimuth + Math.PI, currentSunPosition.altitude);\r\n\r\n  sphere.position.set(currentSunPositionXYZ.x, currentSunPositionXYZ.y, currentSunPositionXYZ.z);\r\n  //  light.position.set(currentSunPositionXYZ.x, currentSunPositionXYZ.y, currentSunPositionXYZ.z);\r\n  //  light.target.position.set(0, 0, 0);\r\n\r\n  /**\r\n   * ---------------------------------\r\n   * EoF Geometry\r\n   * ---------------------------------\r\n   */\r\n\r\n  const renderer = new THREE.WebGLRenderer({\r\n    alpha: true,\r\n    antialias: true,\r\n  });\r\n  renderer.shadowMap.soft = true;\r\n  //  renderer.shadowMap.needsUpdate = true;\r\n\r\n  renderer.shadowMap.enabled = true;\r\n  renderer.shadowMap.type = THREE.PCFBasicShadowMap;\r\n  renderer.setSize(window.innerWidth, window.innerHeight);\r\n\r\n  /**\r\n   * ---------------------------------\r\n   * Helpers\r\n   * ---------------------------------\r\n   */\r\n  const axisHelper = new THREE.AxisHelper(10);\r\n  scene.add(axisHelper);\r\n\r\n  const gridHelper = new THREE.GridHelper(100, 100);\r\n  //  scene.add(gridHelper);\r\n\r\n  const loader = new THREE.FontLoader();\r\n\r\n  // labels XYZ + NSEW\r\n  loader.load('/static/fonts/helvetiker_regular.typeface.json', function(font) {\r\n    const offsetXYZ = RADIUS * 0.75;\r\n    const offsetNSEW = RADIUS + 5;\r\n    addText('X', [offsetXYZ, 0, 0], [0, 0, 0], font, 0xe74c3c);\r\n    addText('Y', [0, offsetXYZ, 0], [0, 0, 0], font, 0x2ecc71);\r\n    addText('Z', [0, 0, offsetXYZ], [0, 0, 0], font, 0x3498db);\r\n\r\n    addText('N', [offsetNSEW, 0, 0], [-Math.PI / 2, 0, 0], font, 0xf1c40f);\r\n    addText('S', [-offsetNSEW, 0, 0], [-Math.PI / 2, 0, 0], font, 0xf1c40f);\r\n    addText('E', [0, 0, offsetNSEW], [-Math.PI / 2, 0, 0], font, 0xf1c40f);\r\n    addText('W', [0, 0, -offsetNSEW], [-Math.PI / 2, 0, 0], font, 0xf1c40f);\r\n    render();\r\n  });\r\n\r\n  /**\r\n   * ---------------------------------\r\n   * Render loop\r\n   * ---------------------------------\r\n   */\r\n  controls.addEventListener('change', render);\r\n\r\n  function animate() {\r\n    requestAnimationFrame(animate);\r\n\r\n   time += 5 * 60 * 1000;\r\n    const currentSunPosition = suncalc.getPosition(new Date(time), LAT, LNG);\r\n    const currentSunPositionXYZ = getXYZbyRotation(RADIUS, currentSunPosition.azimuth + Math.PI, currentSunPosition.altitude);\r\n\r\n    sphere.position.set(currentSunPositionXYZ.x, currentSunPositionXYZ.y, currentSunPositionXYZ.z);\r\n    light.position.set(currentSunPositionXYZ.x, currentSunPositionXYZ.y, currentSunPositionXYZ.z);\r\n    lightHelper.update();\r\n\r\n\r\n    controls.update();\r\n    render();\r\n  }\r\n\r\n  function render() {\r\n    renderer.render(scene, camera);\r\n  }\r\n  /**\r\n   * =================================\r\n   * EoF Render loop\r\n   * =================================\r\n   */\r\n\r\n\r\n  function addText(text, xyz, rotation, font, color = 0xffffff) {\r\n    const textGeo = new THREE.TextGeometry(text, {\r\n      size: 2,\r\n      height: 0.2,\r\n      curveSegments: 6,\r\n      font,\r\n      style: 'normal'\r\n    });\r\n\r\n    const colorThree = new THREE.Color(color);\r\n    const textMaterial = new THREE.MeshBasicMaterial({ color: colorThree });\r\n    const textMesh = new THREE.Mesh(textGeo, textMaterial);\r\n\r\n    textMesh.position.x = xyz[0];\r\n    textMesh.position.y = xyz[1];\r\n    textMesh.position.z = xyz[2];\r\n    textMesh.rotation.x = rotation[0];\r\n    textMesh.rotation.y = rotation[1];\r\n    textMesh.rotation.z = rotation[2];\r\n    scene.add(textMesh);\r\n  }\r\n\r\n  function getXYZbyRotation(radius = 0, theta = 0, phi = 0) {\r\n    phi = Math.PI / 2 - phi;\r\n    const x = radius * Math.sin(phi) * Math.cos(theta);\r\n    const z = radius * Math.sin(phi) * Math.sin(theta);\r\n    const y = radius * Math.cos(phi);\r\n\r\n    return new THREE.Vector3(x, y, z);\r\n  }\r\n\r\n  function getSunPath(date, RADIUS, LAT, LNG, color = 0xff00ff, geometry = false) {\r\n    const sunTimes = suncalc.getTimes(date, LAT, LNG);\r\n//    console.group(moment(date).format());\r\n//    console.groupEnd(moment(date).format());\r\n\r\n    const sunrise = moment(sunTimes.sunrise).valueOf();\r\n    const sunset = moment(sunTimes.sunset).valueOf();\r\n    const step = 30 * 60 * 1000;\r\n\r\n    const lineMaterial = new THREE.LineBasicMaterial({\r\n      color\r\n    });\r\n\r\n    const lineGeometry = new THREE.Geometry();\r\n\r\n    for (let n = sunrise; n <= sunset; n += step) {\r\n      const sunPos = suncalc.getPosition(new Date(n), LAT, LNG);\r\n      const xyz = getXYZbyRotation(RADIUS, sunPos.azimuth + Math.PI, sunPos.altitude);\r\n      lineGeometry.vertices.push(xyz);\r\n    }\r\n\r\n    return geometry ? lineGeometry : new THREE.Line(lineGeometry, lineMaterial);\r\n  }\r\n\r\n  function rad2deg(rad) {\r\n    return rad * (180 / Math.PI);\r\n  }\r\n\r\n  function deg2rad(deg) {\r\n    return deg * (Math.PI / 180);\r\n  }\r\n\r\n  export default {\r\n    name: 'scene',\r\n    data() {\r\n      return {};\r\n    },\r\n    mounted() {\r\n      if (this.$refs.scene.querySelector('canvas') === null) {\r\n        this.$refs.scene.appendChild(renderer.domElement);\r\n        render();\r\n        animate();\r\n      }\r\n    },\r\n  };\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style>\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// Scene.vue?a7e6f8a8","var map = {\n\t\"./af\": 34,\n\t\"./af.js\": 34,\n\t\"./ar\": 41,\n\t\"./ar-dz\": 35,\n\t\"./ar-dz.js\": 35,\n\t\"./ar-kw\": 36,\n\t\"./ar-kw.js\": 36,\n\t\"./ar-ly\": 37,\n\t\"./ar-ly.js\": 37,\n\t\"./ar-ma\": 38,\n\t\"./ar-ma.js\": 38,\n\t\"./ar-sa\": 39,\n\t\"./ar-sa.js\": 39,\n\t\"./ar-tn\": 40,\n\t\"./ar-tn.js\": 40,\n\t\"./ar.js\": 41,\n\t\"./az\": 42,\n\t\"./az.js\": 42,\n\t\"./be\": 43,\n\t\"./be.js\": 43,\n\t\"./bg\": 44,\n\t\"./bg.js\": 44,\n\t\"./bn\": 45,\n\t\"./bn.js\": 45,\n\t\"./bo\": 46,\n\t\"./bo.js\": 46,\n\t\"./br\": 47,\n\t\"./br.js\": 47,\n\t\"./bs\": 48,\n\t\"./bs.js\": 48,\n\t\"./ca\": 49,\n\t\"./ca.js\": 49,\n\t\"./cs\": 50,\n\t\"./cs.js\": 50,\n\t\"./cv\": 51,\n\t\"./cv.js\": 51,\n\t\"./cy\": 52,\n\t\"./cy.js\": 52,\n\t\"./da\": 53,\n\t\"./da.js\": 53,\n\t\"./de\": 56,\n\t\"./de-at\": 54,\n\t\"./de-at.js\": 54,\n\t\"./de-ch\": 55,\n\t\"./de-ch.js\": 55,\n\t\"./de.js\": 56,\n\t\"./dv\": 57,\n\t\"./dv.js\": 57,\n\t\"./el\": 58,\n\t\"./el.js\": 58,\n\t\"./en-au\": 59,\n\t\"./en-au.js\": 59,\n\t\"./en-ca\": 60,\n\t\"./en-ca.js\": 60,\n\t\"./en-gb\": 61,\n\t\"./en-gb.js\": 61,\n\t\"./en-ie\": 62,\n\t\"./en-ie.js\": 62,\n\t\"./en-nz\": 63,\n\t\"./en-nz.js\": 63,\n\t\"./eo\": 64,\n\t\"./eo.js\": 64,\n\t\"./es\": 66,\n\t\"./es-do\": 65,\n\t\"./es-do.js\": 65,\n\t\"./es.js\": 66,\n\t\"./et\": 67,\n\t\"./et.js\": 67,\n\t\"./eu\": 68,\n\t\"./eu.js\": 68,\n\t\"./fa\": 69,\n\t\"./fa.js\": 69,\n\t\"./fi\": 70,\n\t\"./fi.js\": 70,\n\t\"./fo\": 71,\n\t\"./fo.js\": 71,\n\t\"./fr\": 74,\n\t\"./fr-ca\": 72,\n\t\"./fr-ca.js\": 72,\n\t\"./fr-ch\": 73,\n\t\"./fr-ch.js\": 73,\n\t\"./fr.js\": 74,\n\t\"./fy\": 75,\n\t\"./fy.js\": 75,\n\t\"./gd\": 76,\n\t\"./gd.js\": 76,\n\t\"./gl\": 77,\n\t\"./gl.js\": 77,\n\t\"./gom-latn\": 78,\n\t\"./gom-latn.js\": 78,\n\t\"./he\": 79,\n\t\"./he.js\": 79,\n\t\"./hi\": 80,\n\t\"./hi.js\": 80,\n\t\"./hr\": 81,\n\t\"./hr.js\": 81,\n\t\"./hu\": 82,\n\t\"./hu.js\": 82,\n\t\"./hy-am\": 83,\n\t\"./hy-am.js\": 83,\n\t\"./id\": 84,\n\t\"./id.js\": 84,\n\t\"./is\": 85,\n\t\"./is.js\": 85,\n\t\"./it\": 86,\n\t\"./it.js\": 86,\n\t\"./ja\": 87,\n\t\"./ja.js\": 87,\n\t\"./jv\": 88,\n\t\"./jv.js\": 88,\n\t\"./ka\": 89,\n\t\"./ka.js\": 89,\n\t\"./kk\": 90,\n\t\"./kk.js\": 90,\n\t\"./km\": 91,\n\t\"./km.js\": 91,\n\t\"./kn\": 92,\n\t\"./kn.js\": 92,\n\t\"./ko\": 93,\n\t\"./ko.js\": 93,\n\t\"./ky\": 94,\n\t\"./ky.js\": 94,\n\t\"./lb\": 95,\n\t\"./lb.js\": 95,\n\t\"./lo\": 96,\n\t\"./lo.js\": 96,\n\t\"./lt\": 97,\n\t\"./lt.js\": 97,\n\t\"./lv\": 98,\n\t\"./lv.js\": 98,\n\t\"./me\": 99,\n\t\"./me.js\": 99,\n\t\"./mi\": 100,\n\t\"./mi.js\": 100,\n\t\"./mk\": 101,\n\t\"./mk.js\": 101,\n\t\"./ml\": 102,\n\t\"./ml.js\": 102,\n\t\"./mr\": 103,\n\t\"./mr.js\": 103,\n\t\"./ms\": 105,\n\t\"./ms-my\": 104,\n\t\"./ms-my.js\": 104,\n\t\"./ms.js\": 105,\n\t\"./my\": 106,\n\t\"./my.js\": 106,\n\t\"./nb\": 107,\n\t\"./nb.js\": 107,\n\t\"./ne\": 108,\n\t\"./ne.js\": 108,\n\t\"./nl\": 110,\n\t\"./nl-be\": 109,\n\t\"./nl-be.js\": 109,\n\t\"./nl.js\": 110,\n\t\"./nn\": 111,\n\t\"./nn.js\": 111,\n\t\"./pa-in\": 112,\n\t\"./pa-in.js\": 112,\n\t\"./pl\": 113,\n\t\"./pl.js\": 113,\n\t\"./pt\": 115,\n\t\"./pt-br\": 114,\n\t\"./pt-br.js\": 114,\n\t\"./pt.js\": 115,\n\t\"./ro\": 116,\n\t\"./ro.js\": 116,\n\t\"./ru\": 117,\n\t\"./ru.js\": 117,\n\t\"./sd\": 118,\n\t\"./sd.js\": 118,\n\t\"./se\": 119,\n\t\"./se.js\": 119,\n\t\"./si\": 120,\n\t\"./si.js\": 120,\n\t\"./sk\": 121,\n\t\"./sk.js\": 121,\n\t\"./sl\": 122,\n\t\"./sl.js\": 122,\n\t\"./sq\": 123,\n\t\"./sq.js\": 123,\n\t\"./sr\": 125,\n\t\"./sr-cyrl\": 124,\n\t\"./sr-cyrl.js\": 124,\n\t\"./sr.js\": 125,\n\t\"./ss\": 126,\n\t\"./ss.js\": 126,\n\t\"./sv\": 127,\n\t\"./sv.js\": 127,\n\t\"./sw\": 128,\n\t\"./sw.js\": 128,\n\t\"./ta\": 129,\n\t\"./ta.js\": 129,\n\t\"./te\": 130,\n\t\"./te.js\": 130,\n\t\"./tet\": 131,\n\t\"./tet.js\": 131,\n\t\"./th\": 132,\n\t\"./th.js\": 132,\n\t\"./tl-ph\": 133,\n\t\"./tl-ph.js\": 133,\n\t\"./tlh\": 134,\n\t\"./tlh.js\": 134,\n\t\"./tr\": 135,\n\t\"./tr.js\": 135,\n\t\"./tzl\": 136,\n\t\"./tzl.js\": 136,\n\t\"./tzm\": 138,\n\t\"./tzm-latn\": 137,\n\t\"./tzm-latn.js\": 137,\n\t\"./tzm.js\": 138,\n\t\"./uk\": 139,\n\t\"./uk.js\": 139,\n\t\"./ur\": 140,\n\t\"./ur.js\": 140,\n\t\"./uz\": 142,\n\t\"./uz-latn\": 141,\n\t\"./uz-latn.js\": 141,\n\t\"./uz.js\": 142,\n\t\"./vi\": 143,\n\t\"./vi.js\": 143,\n\t\"./x-pseudo\": 144,\n\t\"./x-pseudo.js\": 144,\n\t\"./yo\": 145,\n\t\"./yo.js\": 145,\n\t\"./zh-cn\": 146,\n\t\"./zh-cn.js\": 146,\n\t\"./zh-hk\": 147,\n\t\"./zh-hk.js\": 147,\n\t\"./zh-tw\": 148,\n\t\"./zh-tw.js\": 148\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 201;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/moment/locale ^\\.\\/.*$\n// module id = 201\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    ref: \"scene\",\n    staticClass: \"Scene\"\n  }, [_c('p', [_vm._v(\"hello world!\")])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-38d91c16\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Scene.vue\n// module id = 203\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('Scene')], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-6346ab6e\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 204\n// module chunks = 1"],"sourceRoot":""}